{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\R40008\\\\Asset Model Server\\\\python\\\\bim-ai-poc\\\\frontend\\\\src\\\\components\\\\TableGraphVisualization.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\n\n/**\r\n * TableGraphVisualization - A component that visualizes graph data as tables\r\n * showing only harmonized attributes with duplicates removed and expandable details\r\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TableGraphVisualization = ({\n  graphData,\n  dimensions\n}) => {\n  _s();\n  const [processedData, setProcessedData] = useState([]);\n  const [expandedAttributes, setExpandedAttributes] = useState({});\n\n  // Process the graph data into a format suitable for table visualization\n  useEffect(() => {\n    if (graphData && graphData.nodeDataArray && graphData.linkDataArray) {\n      try {\n        const organized = organizeDataForVisualization(graphData);\n        setProcessedData(organized);\n        // Reset expanded state when data changes\n        setExpandedAttributes({});\n      } catch (error) {\n        console.error('Error processing graph data for table visualization:', error);\n        setProcessedData([]);\n      }\n    }\n  }, [graphData]);\n\n  // Toggle expand/collapse for an attribute\n  const toggleExpand = (objectKey, attrName) => {\n    setExpandedAttributes(prev => {\n      const key = `${objectKey}-${attrName}`;\n      return {\n        ...prev,\n        [key]: !prev[key]\n      };\n    });\n  };\n\n  // Check if an attribute is expanded\n  const isExpanded = (objectKey, attrName) => {\n    const key = `${objectKey}-${attrName}`;\n    return !!expandedAttributes[key];\n  };\n\n  // Calculate container styles based on dimensions\n  const containerStyle = {\n    width: (dimensions === null || dimensions === void 0 ? void 0 : dimensions.width) || '100%',\n    height: (dimensions === null || dimensions === void 0 ? void 0 : dimensions.height) || '600px',\n    padding: '10px',\n    background: '#f8fafc',\n    border: '1px solid #e2e8f0',\n    borderRadius: '8px',\n    overflow: 'auto',\n    maxHeight: (dimensions === null || dimensions === void 0 ? void 0 : dimensions.height) || '600px',\n    position: 'relative',\n    boxSizing: 'border-box'\n  };\n  if (!graphData || !processedData.length) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        ...containerStyle,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        fontSize: \"16px\",\n        fontStyle: \"italic\",\n        color: \"#64748b\"\n      },\n      children: \"Upload data to visualize tables and their relationships.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: containerStyle,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '100%'\n      },\n      children: processedData.map((cluster, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '30px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: 'linear-gradient(to right, #1E40AF, #3B82F6)',\n            color: 'white',\n            padding: '10px 15px',\n            borderTopLeftRadius: '8px',\n            borderTopRightRadius: '8px',\n            fontWeight: 'bold',\n            fontSize: '16px',\n            display: 'flex',\n            alignItems: 'center',\n            boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '12px',\n              height: '12px',\n              backgroundColor: 'white',\n              borderRadius: '50%',\n              marginRight: '10px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }, this), cluster.label || 'Unnamed Cluster']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this), cluster.hoverLabel && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: 'rgba(59, 130, 246, 0.1)',\n            padding: '8px 15px',\n            color: '#334155',\n            fontSize: '14px',\n            borderLeft: '1px solid #e2e8f0',\n            borderRight: '1px solid #e2e8f0'\n          },\n          children: cluster.hoverLabel\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            flexWrap: 'wrap',\n            gap: '20px',\n            padding: '20px',\n            background: 'white',\n            borderBottomLeftRadius: '8px',\n            borderBottomRightRadius: '8px',\n            borderLeft: '1px solid #e2e8f0',\n            borderRight: '1px solid #e2e8f0',\n            borderBottom: '1px solid #e2e8f0',\n            boxShadow: '0 2px 4px rgba(0,0,0,0.05)'\n          },\n          children: [cluster.objects.map((object, objIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '280px',\n              overflow: 'hidden',\n              borderRadius: '6px',\n              boxShadow: '0 2px 5px rgba(0,0,0,0.1)',\n              border: '1px solid #e2e8f0',\n              maxHeight: '500px',\n              display: 'flex',\n              flexDirection: 'column'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                background: '#10B981',\n                color: 'white',\n                padding: '8px 12px',\n                fontWeight: 'bold',\n                fontSize: '14px',\n                display: 'flex',\n                alignItems: 'center',\n                gap: '8px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  width: '0',\n                  height: '0',\n                  borderLeft: '6px solid transparent',\n                  borderRight: '6px solid transparent',\n                  borderBottom: '12px solid white'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 21\n              }, this), object.label || 'Unnamed Object']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 19\n            }, this), object.hoverLabel && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                padding: '6px 12px',\n                fontSize: '12px',\n                color: '#64748b',\n                borderBottom: '1px solid #e2e8f0',\n                background: '#f8fafc'\n              },\n              children: object.hoverLabel\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                maxHeight: '400px',\n                overflowY: 'auto',\n                flex: '1'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                style: {\n                  width: '100%',\n                  borderCollapse: 'collapse',\n                  fontSize: '12px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    style: {\n                      background: '#f1f5f9'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      style: {\n                        padding: '6px 12px',\n                        textAlign: 'left',\n                        borderBottom: '1px solid #e2e8f0',\n                        color: '#334155',\n                        position: 'sticky',\n                        top: 0,\n                        background: '#f1f5f9',\n                        zIndex: 1,\n                        width: '70%'\n                      },\n                      children: \"Harmonized Attribute\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 197,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      style: {\n                        padding: '6px 12px',\n                        textAlign: 'center',\n                        borderBottom: '1px solid #e2e8f0',\n                        color: '#334155',\n                        position: 'sticky',\n                        top: 0,\n                        background: '#f1f5f9',\n                        zIndex: 1,\n                        width: '30%'\n                      },\n                      children: \"Count\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 210,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 196,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: object.harmonizedAttributes && object.harmonizedAttributes.length > 0 ? object.harmonizedAttributes.map((attr, attrIndex) => /*#__PURE__*/_jsxDEV(React.Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                      style: {\n                        background: attrIndex % 2 === 0 ? 'white' : '#f8fafc',\n                        cursor: 'pointer'\n                      },\n                      onClick: () => toggleExpand(object.key, attr.name),\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          padding: '6px 12px',\n                          borderBottom: '1px solid #e2e8f0',\n                          color: '#9333ea',\n                          fontWeight: '500',\n                          position: 'relative'\n                        },\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            display: 'flex',\n                            alignItems: 'center',\n                            gap: '8px'\n                          },\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            style: {\n                              width: '3px',\n                              height: '14px',\n                              background: '#9333ea',\n                              borderRadius: '1px'\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 248,\n                            columnNumber: 37\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            style: {\n                              display: 'flex',\n                              alignItems: 'center',\n                              gap: '4px'\n                            },\n                            children: [attr.name, /*#__PURE__*/_jsxDEV(\"svg\", {\n                              xmlns: \"http://www.w3.org/2000/svg\",\n                              width: \"12\",\n                              height: \"12\",\n                              viewBox: \"0 0 24 24\",\n                              fill: \"none\",\n                              stroke: \"currentColor\",\n                              strokeWidth: \"2\",\n                              strokeLinecap: \"round\",\n                              strokeLinejoin: \"round\",\n                              style: {\n                                transition: 'transform 0.2s ease',\n                                transform: isExpanded(object.key, attr.name) ? 'rotate(180deg)' : 'rotate(0deg)'\n                              },\n                              children: /*#__PURE__*/_jsxDEV(\"polyline\", {\n                                points: \"6 9 12 15 18 9\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 271,\n                                columnNumber: 41\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 256,\n                              columnNumber: 39\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 254,\n                            columnNumber: 37\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 243,\n                          columnNumber: 35\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 236,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          padding: '6px 12px',\n                          borderBottom: '1px solid #e2e8f0',\n                          color: '#475569',\n                          fontSize: '11px',\n                          textAlign: 'center'\n                        },\n                        children: attr.count\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 276,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 229,\n                      columnNumber: 31\n                    }, this), isExpanded(object.key, attr.name) && /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: /*#__PURE__*/_jsxDEV(\"td\", {\n                        colSpan: \"2\",\n                        style: {\n                          padding: '0',\n                          backgroundColor: 'rgba(147, 51, 234, 0.05)',\n                          border: '1px solid rgba(147, 51, 234, 0.2)',\n                          borderTop: 'none'\n                        },\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            padding: '8px 12px 8px 24px'\n                          },\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            style: {\n                              fontSize: '10px',\n                              fontWeight: 'bold',\n                              color: '#9333ea',\n                              marginBottom: '6px'\n                            },\n                            children: \"ORIGINAL ATTRIBUTES:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 299,\n                            columnNumber: 39\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            style: {\n                              fontSize: '11px',\n                              color: '#64748b'\n                            },\n                            children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                              style: {\n                                margin: '0',\n                                paddingLeft: '16px'\n                              },\n                              children: attr.originalAttributes.map((original, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n                                style: {\n                                  marginBottom: '2px'\n                                },\n                                children: original\n                              }, i, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 316,\n                                columnNumber: 45\n                              }, this))\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 311,\n                              columnNumber: 41\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 307,\n                            columnNumber: 39\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 296,\n                          columnNumber: 37\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 290,\n                        columnNumber: 35\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 289,\n                      columnNumber: 33\n                    }, this)]\n                  }, `attr-${attrIndex}-${attr.name}`, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 228,\n                    columnNumber: 29\n                  }, this)) : /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: /*#__PURE__*/_jsxDEV(\"td\", {\n                      colSpan: \"2\",\n                      style: {\n                        padding: '10px',\n                        textAlign: 'center',\n                        color: '#94a3b8'\n                      },\n                      children: \"No harmonized attributes available\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 330,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 329,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 19\n            }, this)]\n          }, `object-${objIndex}-${object.key}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 17\n          }, this)), cluster.objects.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: '15px',\n              color: '#94a3b8',\n              fontStyle: 'italic',\n              textAlign: 'center',\n              width: '100%'\n            },\n            children: \"No objects in this cluster\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }, this)]\n      }, `cluster-${index}-${cluster.key}`, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n};\n\n/**\r\n * Organizes the graph data into a hierarchical structure for visualization\r\n * with only harmonized attributes and duplicates removed\r\n * @param {Object} data - The raw graph data\r\n * @returns {Array} - Array of organized cluster objects\r\n */\n_s(TableGraphVisualization, \"GNn5uKozUZutsP4GfXaOj4guqus=\");\n_c = TableGraphVisualization;\nfunction organizeDataForVisualization(data) {\n  if (!data || !data.nodeDataArray || !data.linkDataArray) {\n    return [];\n  }\n  const nodes = data.nodeDataArray;\n  const links = data.linkDataArray;\n\n  // Extract nodes by category\n  const clusters = nodes.filter(node => node.category === \"system\");\n  const objects = nodes.filter(node => node.category === \"object\");\n  const attributes = nodes.filter(node => node.category === \"attribute\");\n\n  // Build the cluster hierarchy\n  return clusters.map(cluster => {\n    // Find objects linked to this cluster\n    const linkedObjectKeys = links.filter(link => link.from === cluster.key).map(link => link.to);\n    const clusterObjects = objects.filter(obj => linkedObjectKeys.includes(obj.key)).map(obj => {\n      // Find attributes linked to this object\n      const linkedAttrKeys = links.filter(link => link.from === obj.key).map(link => link.to);\n      const objectAttributes = attributes.filter(attr => linkedAttrKeys.includes(attr.key));\n\n      // Get harmonized attributes and count occurrences to remove duplicates\n      const harmonizedAttributeMap = {};\n      objectAttributes.forEach(attr => {\n        // Get the harmonized attribute name\n        const harmonizedName = attr.harmonisedAttribute || `Harmonised-${attr.label}`;\n        if (!harmonizedAttributeMap[harmonizedName]) {\n          harmonizedAttributeMap[harmonizedName] = {\n            name: harmonizedName,\n            count: 1,\n            originalAttributes: [attr.label || 'Unknown']\n          };\n        } else {\n          harmonizedAttributeMap[harmonizedName].count += 1;\n          if (!harmonizedAttributeMap[harmonizedName].originalAttributes.includes(attr.label || 'Unknown')) {\n            harmonizedAttributeMap[harmonizedName].originalAttributes.push(attr.label || 'Unknown');\n          }\n        }\n      });\n\n      // Convert map to array and sort alphabetically\n      const harmonizedAttributes = Object.values(harmonizedAttributeMap).sort((a, b) => a.name.localeCompare(b.name));\n      return {\n        ...obj,\n        attributes: objectAttributes,\n        harmonizedAttributes: harmonizedAttributes\n      };\n    }).sort((a, b) => (a.label || '').localeCompare(b.label || ''));\n    return {\n      ...cluster,\n      objects: clusterObjects\n    };\n  }).sort((a, b) => {\n    // Sort clusters by name\n    return (a.label || '').localeCompare(b.label || '');\n  });\n}\nexport default TableGraphVisualization;\nvar _c;\n$RefreshReg$(_c, \"TableGraphVisualization\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","TableGraphVisualization","graphData","dimensions","_s","processedData","setProcessedData","expandedAttributes","setExpandedAttributes","nodeDataArray","linkDataArray","organized","organizeDataForVisualization","error","console","toggleExpand","objectKey","attrName","prev","key","isExpanded","containerStyle","width","height","padding","background","border","borderRadius","overflow","maxHeight","position","boxSizing","length","style","display","alignItems","justifyContent","fontSize","fontStyle","color","children","fileName","_jsxFileName","lineNumber","columnNumber","map","cluster","index","marginBottom","borderTopLeftRadius","borderTopRightRadius","fontWeight","boxShadow","backgroundColor","marginRight","label","hoverLabel","borderLeft","borderRight","flexWrap","gap","borderBottomLeftRadius","borderBottomRightRadius","borderBottom","objects","object","objIndex","flexDirection","overflowY","flex","borderCollapse","textAlign","top","zIndex","harmonizedAttributes","attr","attrIndex","Fragment","cursor","onClick","name","xmlns","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","transition","transform","points","count","colSpan","borderTop","margin","paddingLeft","originalAttributes","original","i","_c","data","nodes","links","clusters","filter","node","category","attributes","linkedObjectKeys","link","from","to","clusterObjects","obj","includes","linkedAttrKeys","objectAttributes","harmonizedAttributeMap","forEach","harmonizedName","harmonisedAttribute","push","Object","values","sort","a","b","localeCompare","$RefreshReg$"],"sources":["C:/Users/R40008/Asset Model Server/python/bim-ai-poc/frontend/src/components/TableGraphVisualization.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\n/**\r\n * TableGraphVisualization - A component that visualizes graph data as tables\r\n * showing only harmonized attributes with duplicates removed and expandable details\r\n */\r\nconst TableGraphVisualization = ({ graphData, dimensions }) => {\r\n  const [processedData, setProcessedData] = useState([]);\r\n  const [expandedAttributes, setExpandedAttributes] = useState({});\r\n  \r\n  // Process the graph data into a format suitable for table visualization\r\n  useEffect(() => {\r\n    if (graphData && graphData.nodeDataArray && graphData.linkDataArray) {\r\n      try {\r\n        const organized = organizeDataForVisualization(graphData);\r\n        setProcessedData(organized);\r\n        // Reset expanded state when data changes\r\n        setExpandedAttributes({});\r\n      } catch (error) {\r\n        console.error('Error processing graph data for table visualization:', error);\r\n        setProcessedData([]);\r\n      }\r\n    }\r\n  }, [graphData]);\r\n\r\n  // Toggle expand/collapse for an attribute\r\n  const toggleExpand = (objectKey, attrName) => {\r\n    setExpandedAttributes(prev => {\r\n      const key = `${objectKey}-${attrName}`;\r\n      return {\r\n        ...prev,\r\n        [key]: !prev[key]\r\n      };\r\n    });\r\n  };\r\n\r\n  // Check if an attribute is expanded\r\n  const isExpanded = (objectKey, attrName) => {\r\n    const key = `${objectKey}-${attrName}`;\r\n    return !!expandedAttributes[key];\r\n  };\r\n\r\n  // Calculate container styles based on dimensions\r\n  const containerStyle = {\r\n    width: dimensions?.width || '100%', \r\n    height: dimensions?.height || '600px',\r\n    padding: '10px',\r\n    background: '#f8fafc',\r\n    border: '1px solid #e2e8f0',\r\n    borderRadius: '8px',\r\n    overflow: 'auto',\r\n    maxHeight: dimensions?.height || '600px',\r\n    position: 'relative',\r\n    boxSizing: 'border-box'\r\n  };\r\n\r\n  if (!graphData || !processedData.length) {\r\n    return (\r\n      <div style={{\r\n        ...containerStyle,\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        fontSize: \"16px\",\r\n        fontStyle: \"italic\",\r\n        color: \"#64748b\"\r\n      }}>\r\n        Upload data to visualize tables and their relationships.\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={containerStyle}>\r\n      <div style={{ width: '100%' }}>\r\n        {processedData.map((cluster, index) => (\r\n          <div \r\n            key={`cluster-${index}-${cluster.key}`}\r\n            style={{\r\n              marginBottom: '30px'\r\n            }}\r\n          >\r\n            {/* Cluster Header */}\r\n            <div\r\n              style={{\r\n                background: 'linear-gradient(to right, #1E40AF, #3B82F6)',\r\n                color: 'white',\r\n                padding: '10px 15px',\r\n                borderTopLeftRadius: '8px',\r\n                borderTopRightRadius: '8px',\r\n                fontWeight: 'bold',\r\n                fontSize: '16px',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\r\n              }}\r\n            >\r\n              <div style={{\r\n                width: '12px',\r\n                height: '12px',\r\n                backgroundColor: 'white',\r\n                borderRadius: '50%',\r\n                marginRight: '10px'\r\n              }} />\r\n              {cluster.label || 'Unnamed Cluster'}\r\n            </div>\r\n            \r\n            {/* Description if available */}\r\n            {cluster.hoverLabel && (\r\n              <div style={{\r\n                background: 'rgba(59, 130, 246, 0.1)',\r\n                padding: '8px 15px',\r\n                color: '#334155',\r\n                fontSize: '14px',\r\n                borderLeft: '1px solid #e2e8f0',\r\n                borderRight: '1px solid #e2e8f0'\r\n              }}>\r\n                {cluster.hoverLabel}\r\n              </div>\r\n            )}\r\n            \r\n            {/* Objects (tables) */}\r\n            <div style={{ \r\n              display: 'flex', \r\n              flexWrap: 'wrap', \r\n              gap: '20px',\r\n              padding: '20px',\r\n              background: 'white',\r\n              borderBottomLeftRadius: '8px',\r\n              borderBottomRightRadius: '8px',\r\n              borderLeft: '1px solid #e2e8f0',\r\n              borderRight: '1px solid #e2e8f0',\r\n              borderBottom: '1px solid #e2e8f0',\r\n              boxShadow: '0 2px 4px rgba(0,0,0,0.05)'\r\n            }}>\r\n              {cluster.objects.map((object, objIndex) => (\r\n                <div \r\n                  key={`object-${objIndex}-${object.key}`}\r\n                  style={{\r\n                    width: '280px',\r\n                    overflow: 'hidden',\r\n                    borderRadius: '6px',\r\n                    boxShadow: '0 2px 5px rgba(0,0,0,0.1)',\r\n                    border: '1px solid #e2e8f0',\r\n                    maxHeight: '500px',\r\n                    display: 'flex',\r\n                    flexDirection: 'column'\r\n                  }}\r\n                >\r\n                  {/* Table Header */}\r\n                  <div style={{\r\n                    background: '#10B981',\r\n                    color: 'white',\r\n                    padding: '8px 12px',\r\n                    fontWeight: 'bold',\r\n                    fontSize: '14px',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    gap: '8px'\r\n                  }}>\r\n                    <div style={{\r\n                      width: '0',\r\n                      height: '0',\r\n                      borderLeft: '6px solid transparent',\r\n                      borderRight: '6px solid transparent',\r\n                      borderBottom: '12px solid white'\r\n                    }} />\r\n                    {object.label || 'Unnamed Object'}\r\n                  </div>\r\n                  \r\n                  {/* Object Description */}\r\n                  {object.hoverLabel && (\r\n                    <div style={{\r\n                      padding: '6px 12px',\r\n                      fontSize: '12px',\r\n                      color: '#64748b',\r\n                      borderBottom: '1px solid #e2e8f0',\r\n                      background: '#f8fafc'\r\n                    }}>\r\n                      {object.hoverLabel}\r\n                    </div>\r\n                  )}\r\n                  \r\n                  {/* Only Harmonized Attributes (with duplicates removed) */}\r\n                  <div style={{\r\n                    maxHeight: '400px',\r\n                    overflowY: 'auto',\r\n                    flex: '1'\r\n                  }}>\r\n                    <table style={{\r\n                      width: '100%',\r\n                      borderCollapse: 'collapse',\r\n                      fontSize: '12px'\r\n                    }}>\r\n                      <thead>\r\n                        <tr style={{ background: '#f1f5f9' }}>\r\n                          <th style={{\r\n                            padding: '6px 12px',\r\n                            textAlign: 'left',\r\n                            borderBottom: '1px solid #e2e8f0',\r\n                            color: '#334155',\r\n                            position: 'sticky',\r\n                            top: 0,\r\n                            background: '#f1f5f9',\r\n                            zIndex: 1,\r\n                            width: '70%'\r\n                          }}>\r\n                            Harmonized Attribute\r\n                          </th>\r\n                          <th style={{\r\n                            padding: '6px 12px',\r\n                            textAlign: 'center',\r\n                            borderBottom: '1px solid #e2e8f0',\r\n                            color: '#334155',\r\n                            position: 'sticky',\r\n                            top: 0,\r\n                            background: '#f1f5f9',\r\n                            zIndex: 1,\r\n                            width: '30%'\r\n                          }}>\r\n                            Count\r\n                          </th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {object.harmonizedAttributes && object.harmonizedAttributes.length > 0 ? (\r\n                          object.harmonizedAttributes.map((attr, attrIndex) => (\r\n                            <React.Fragment key={`attr-${attrIndex}-${attr.name}`}>\r\n                              <tr \r\n                                style={{\r\n                                  background: attrIndex % 2 === 0 ? 'white' : '#f8fafc',\r\n                                  cursor: 'pointer'\r\n                                }}\r\n                                onClick={() => toggleExpand(object.key, attr.name)}\r\n                              >\r\n                                <td style={{\r\n                                  padding: '6px 12px',\r\n                                  borderBottom: '1px solid #e2e8f0',\r\n                                  color: '#9333ea',\r\n                                  fontWeight: '500',\r\n                                  position: 'relative'\r\n                                }}>\r\n                                  <div style={{\r\n                                    display: 'flex',\r\n                                    alignItems: 'center',\r\n                                    gap: '8px'\r\n                                  }}>\r\n                                    <div style={{\r\n                                      width: '3px',\r\n                                      height: '14px',\r\n                                      background: '#9333ea',\r\n                                      borderRadius: '1px'\r\n                                    }} />\r\n                                    <div style={{ display: 'flex', alignItems: 'center', gap: '4px' }}>\r\n                                      {attr.name}\r\n                                      <svg \r\n                                        xmlns=\"http://www.w3.org/2000/svg\" \r\n                                        width=\"12\" \r\n                                        height=\"12\" \r\n                                        viewBox=\"0 0 24 24\" \r\n                                        fill=\"none\" \r\n                                        stroke=\"currentColor\" \r\n                                        strokeWidth=\"2\" \r\n                                        strokeLinecap=\"round\" \r\n                                        strokeLinejoin=\"round\"\r\n                                        style={{ \r\n                                          transition: 'transform 0.2s ease',\r\n                                          transform: isExpanded(object.key, attr.name) ? 'rotate(180deg)' : 'rotate(0deg)'\r\n                                        }}\r\n                                      >\r\n                                        <polyline points=\"6 9 12 15 18 9\"></polyline>\r\n                                      </svg>\r\n                                    </div>\r\n                                  </div>\r\n                                </td>\r\n                                <td style={{\r\n                                  padding: '6px 12px',\r\n                                  borderBottom: '1px solid #e2e8f0',\r\n                                  color: '#475569',\r\n                                  fontSize: '11px',\r\n                                  textAlign: 'center'\r\n                                }}>\r\n                                  {attr.count}\r\n                                </td>\r\n                              </tr>\r\n                              \r\n                              {/* Expanded details showing original attributes */}\r\n                              {isExpanded(object.key, attr.name) && (\r\n                                <tr>\r\n                                  <td colSpan=\"2\" style={{\r\n                                    padding: '0',\r\n                                    backgroundColor: 'rgba(147, 51, 234, 0.05)',\r\n                                    border: '1px solid rgba(147, 51, 234, 0.2)',\r\n                                    borderTop: 'none'\r\n                                  }}>\r\n                                    <div style={{\r\n                                      padding: '8px 12px 8px 24px'\r\n                                    }}>\r\n                                      <div style={{\r\n                                        fontSize: '10px',\r\n                                        fontWeight: 'bold',\r\n                                        color: '#9333ea',\r\n                                        marginBottom: '6px'\r\n                                      }}>\r\n                                        ORIGINAL ATTRIBUTES:\r\n                                      </div>\r\n                                      <div style={{\r\n                                        fontSize: '11px',\r\n                                        color: '#64748b'\r\n                                      }}>\r\n                                        <ul style={{\r\n                                          margin: '0',\r\n                                          paddingLeft: '16px'\r\n                                        }}>\r\n                                          {attr.originalAttributes.map((original, i) => (\r\n                                            <li key={i} style={{ marginBottom: '2px' }}>\r\n                                              {original}\r\n                                            </li>\r\n                                          ))}\r\n                                        </ul>\r\n                                      </div>\r\n                                    </div>\r\n                                  </td>\r\n                                </tr>\r\n                              )}\r\n                            </React.Fragment>\r\n                          ))\r\n                        ) : (\r\n                          <tr>\r\n                            <td \r\n                              colSpan=\"2\"\r\n                              style={{\r\n                                padding: '10px',\r\n                                textAlign: 'center',\r\n                                color: '#94a3b8'\r\n                              }}\r\n                            >\r\n                              No harmonized attributes available\r\n                            </td>\r\n                          </tr>\r\n                        )}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n              \r\n              {cluster.objects.length === 0 && (\r\n                <div style={{\r\n                  padding: '15px',\r\n                  color: '#94a3b8',\r\n                  fontStyle: 'italic',\r\n                  textAlign: 'center',\r\n                  width: '100%'\r\n                }}>\r\n                  No objects in this cluster\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n/**\r\n * Organizes the graph data into a hierarchical structure for visualization\r\n * with only harmonized attributes and duplicates removed\r\n * @param {Object} data - The raw graph data\r\n * @returns {Array} - Array of organized cluster objects\r\n */\r\nfunction organizeDataForVisualization(data) {\r\n  if (!data || !data.nodeDataArray || !data.linkDataArray) {\r\n    return [];\r\n  }\r\n  \r\n  const nodes = data.nodeDataArray;\r\n  const links = data.linkDataArray;\r\n  \r\n  // Extract nodes by category\r\n  const clusters = nodes.filter(node => node.category === \"system\");\r\n  const objects = nodes.filter(node => node.category === \"object\");\r\n  const attributes = nodes.filter(node => node.category === \"attribute\");\r\n  \r\n  // Build the cluster hierarchy\r\n  return clusters.map(cluster => {\r\n    // Find objects linked to this cluster\r\n    const linkedObjectKeys = links\r\n      .filter(link => link.from === cluster.key)\r\n      .map(link => link.to);\r\n      \r\n    const clusterObjects = objects\r\n      .filter(obj => linkedObjectKeys.includes(obj.key))\r\n      .map(obj => {\r\n        // Find attributes linked to this object\r\n        const linkedAttrKeys = links\r\n          .filter(link => link.from === obj.key)\r\n          .map(link => link.to);\r\n          \r\n        const objectAttributes = attributes\r\n          .filter(attr => linkedAttrKeys.includes(attr.key));\r\n        \r\n        // Get harmonized attributes and count occurrences to remove duplicates\r\n        const harmonizedAttributeMap = {};\r\n        \r\n        objectAttributes.forEach(attr => {\r\n          // Get the harmonized attribute name\r\n          const harmonizedName = attr.harmonisedAttribute || `Harmonised-${attr.label}`;\r\n          \r\n          if (!harmonizedAttributeMap[harmonizedName]) {\r\n            harmonizedAttributeMap[harmonizedName] = {\r\n              name: harmonizedName,\r\n              count: 1,\r\n              originalAttributes: [attr.label || 'Unknown']\r\n            };\r\n          } else {\r\n            harmonizedAttributeMap[harmonizedName].count += 1;\r\n            if (!harmonizedAttributeMap[harmonizedName].originalAttributes.includes(attr.label || 'Unknown')) {\r\n              harmonizedAttributeMap[harmonizedName].originalAttributes.push(attr.label || 'Unknown');\r\n            }\r\n          }\r\n        });\r\n        \r\n        // Convert map to array and sort alphabetically\r\n        const harmonizedAttributes = Object.values(harmonizedAttributeMap)\r\n          .sort((a, b) => a.name.localeCompare(b.name));\r\n        \r\n        return {\r\n          ...obj,\r\n          attributes: objectAttributes,\r\n          harmonizedAttributes: harmonizedAttributes\r\n        };\r\n      })\r\n      .sort((a, b) => (a.label || '').localeCompare(b.label || ''));\r\n    \r\n    return {\r\n      ...cluster,\r\n      objects: clusterObjects\r\n    };\r\n  }).sort((a, b) => {\r\n    // Sort clusters by name\r\n    return (a.label || '').localeCompare(b.label || '');\r\n  });\r\n}\r\n\r\nexport default TableGraphVisualization;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}