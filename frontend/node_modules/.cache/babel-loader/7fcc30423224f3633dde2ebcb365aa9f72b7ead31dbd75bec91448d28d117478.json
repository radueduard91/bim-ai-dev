{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\R40008\\\\Asset Model Server\\\\python\\\\bim-ai-poc\\\\frontend\\\\src\\\\components\\\\TableVisualization\\\\index.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useMemo } from \"react\";\n\n// Import modular utility functions\nimport { processDragDrop, handleDragStart, handleDragEnd, handleDragOver, handleDragLeave } from './DragDropUtils';\nimport { filterAndSortRows, getUniqueCategories, getCellColor, getCellBorderStyle } from './FilterSortUtils';\nimport { calculateCounts } from './CountCalculators';\nimport { sortRows, processRowSpans } from './RowProcessing';\nimport { addNewAttribute, handleClickInput, setInputRef } from './AttributeManagement';\n\n// Component imports\nimport TableRow from '../TableRow';\nimport ConfirmationPopup from '../ConfirmationPopup';\n\n// [START_COMPONENT_DEFINITION]\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TableVisualization = ({\n  graphData,\n  handleLabelChange,\n  openPopup,\n  setGraphData,\n  fetchGraphData\n}) => {\n  _s();\n  // [START_STATE_HOOKS]\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [filterCategory, setFilterCategory] = useState(\"all\");\n  const [sortConfig, setSortConfig] = useState({\n    key: null,\n    direction: 'asc'\n  });\n  const [currentPage, setCurrentPage] = useState(1);\n  const ROWS_PER_PAGE = 50;\n  // [END_STATE_HOOKS]\n\n  // [START_ADDITIONAL_STATE]\n  const [draggedItem, setDraggedItem] = useState(null);\n  const [sortedRows, setSortedRows] = useState([]);\n  const [rowSpans, setRowSpans] = useState({});\n  const [clusterCounts, setClusterCounts] = useState({});\n  const [objectCounts, setObjectCounts] = useState({});\n  const [confirmPopup, setConfirmPopup] = useState({\n    isOpen: false\n  });\n  const [hoveredRow, setHoveredRow] = useState(null);\n  const [hoveredCell, setHoveredCell] = useState(null);\n  // New state for harmonised attributes column\n  const [showHarmonisedColumn, setShowHarmonisedColumn] = useState(false);\n  const inputRefs = useRef({});\n  // [END_ADDITIONAL_STATE]\n\n  // [START_DEBUGGING_LOG]\n  useEffect(() => {\n    console.log(\"Graph Data Received:\", graphData);\n    if (graphData) {\n      console.log(\"Node Data Array Length:\", graphData.nodeDataArray.length);\n      console.log(\"Link Data Array Length:\", graphData.linkDataArray.length);\n      const clusters = graphData.nodeDataArray.filter(node => node.category === \"system\");\n      const objects = graphData.nodeDataArray.filter(node => node.category === \"object\");\n      const attributes = graphData.nodeDataArray.filter(node => node.category === \"attribute\");\n      console.log(\"Clusters:\", clusters);\n      console.log(\"Objects:\", objects);\n      console.log(\"Attributes:\", attributes);\n    }\n  }, [graphData]);\n  // [END_DEBUGGING_LOG]\n  // [START_MEMOIZED_ROWS]\n  const filteredAndSortedRows = useMemo(() => filterAndSortRows(sortedRows, searchTerm, filterCategory, sortConfig), [sortedRows, searchTerm, filterCategory, sortConfig]);\n  const paginatedRows = useMemo(() => {\n    const startIndex = (currentPage - 1) * ROWS_PER_PAGE;\n    return filteredAndSortedRows.slice(startIndex, startIndex + ROWS_PER_PAGE);\n  }, [filteredAndSortedRows, currentPage]);\n  // [END_MEMOIZED_ROWS]\n\n  // [START_PAGINATION_CALCULATIONS]\n  const totalPages = Math.ceil(filteredAndSortedRows.length / ROWS_PER_PAGE);\n  // [END_PAGINATION_CALCULATIONS]\n\n  // [START_EVENT_HANDLERS]\n  const handleSort = key => {\n    let direction = 'asc';\n    if (sortConfig.key === key && sortConfig.direction === 'asc') {\n      direction = 'desc';\n    }\n    setSortConfig({\n      key,\n      direction\n    });\n  };\n  const handleNextPage = () => {\n    if (currentPage < totalPages) {\n      setCurrentPage(currentPage + 1);\n    }\n  };\n  const handlePrevPage = () => {\n    if (currentPage > 1) {\n      setCurrentPage(currentPage - 1);\n    }\n  };\n\n  // Toggle harmonised column visibility\n  const toggleHarmonisedColumn = () => {\n    setShowHarmonisedColumn(!showHarmonisedColumn);\n  };\n  // [END_EVENT_HANDLERS]\n\n  // [START_PAGE_RESET_EFFECT]\n  useEffect(() => {\n    setCurrentPage(1);\n  }, [searchTerm, filterCategory]);\n  // [END_PAGE_RESET_EFFECT]\n\n  // [START_GRAPH_DATA_PROCESSING_EFFECT]\n  useEffect(() => {\n    if (graphData && graphData.nodeDataArray.length > 0) {\n      const clusters = graphData.nodeDataArray.filter(node => node.category === \"system\");\n      const objects = graphData.nodeDataArray.filter(node => node.category === \"object\");\n      const attributes = graphData.nodeDataArray.filter(node => node.category === \"attribute\");\n      console.log(\"Processing rows:\", {\n        clusterCount: clusters.length,\n        objectCount: objects.length,\n        attributeCount: attributes.length\n      });\n\n      // Create rows with relationships\n      const rows = attributes.map(attr => {\n        const parentObject = objects.find(obj => graphData.linkDataArray.some(link => link.from === obj.key && link.to === attr.key));\n        const parentCluster = parentObject ? clusters.find(sys => graphData.linkDataArray.some(link => link.from === sys.key && link.to === parentObject.key)) : null;\n        return {\n          attr,\n          parentObject,\n          parentCluster\n        };\n      });\n      console.log(\"Processed Rows:\", rows);\n\n      // Sort rows\n      const sorted = sortRows(rows);\n      setSortedRows(sorted);\n\n      // Process row spans\n      const spans = processRowSpans(sorted);\n      setRowSpans(spans);\n\n      // Calculate counts\n      const {\n        clusterCounts,\n        objectCounts\n      } = calculateCounts(graphData);\n      setClusterCounts(clusterCounts);\n      setObjectCounts(objectCounts);\n    }\n  }, [graphData]);\n  // [END_GRAPH_DATA_PROCESSING_EFFECT]\n\n  // [START_NO_DATA_FALLBACK]\n  if (!graphData || graphData.nodeDataArray.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '200px',\n        color: '#666'\n      },\n      children: \"No data available. Please upload a file.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 13\n    }, this);\n  }\n  // [END_NO_DATA_FALLBACK]\n  // [START_RENDER_METHOD]\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"table-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        marginBottom: '16px',\n        gap: '16px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          flex: 1\n        },\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Search nodes...\",\n          value: searchTerm,\n          onChange: e => setSearchTerm(e.target.value),\n          style: {\n            width: '100%',\n            padding: '8px 12px',\n            border: '1px solid #cbd5e1',\n            borderRadius: '4px',\n            fontSize: '0.875rem'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: filterCategory,\n        onChange: e => setFilterCategory(e.target.value),\n        style: {\n          padding: '8px 12px',\n          border: '1px solid #cbd5e1',\n          borderRadius: '4px',\n          fontSize: '0.875rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"all\",\n          children: \"All Categories\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"unlinked\",\n          children: \"Unlinked\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 21\n        }, this), getUniqueCategories(sortedRows).clusters.map(cluster => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: cluster,\n          children: [\"Cluster: \", cluster]\n        }, `cluster-${cluster}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 25\n        }, this)), getUniqueCategories(sortedRows).objects.map(object => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: object,\n          children: [\"Object: \", object]\n        }, `object-${object}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 25\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: toggleHarmonisedColumn,\n        style: {\n          padding: '8px 12px',\n          backgroundColor: showHarmonisedColumn ? '#1e40af' : '#3b82f6',\n          color: 'white',\n          border: 'none',\n          borderRadius: '4px',\n          fontSize: '0.875rem',\n          cursor: 'pointer',\n          display: 'flex',\n          alignItems: 'center',\n          gap: '6px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          width: \"16\",\n          height: \"16\",\n          viewBox: \"0 0 24 24\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          strokeWidth: \"2\",\n          strokeLinecap: \"round\",\n          strokeLinejoin: \"round\",\n          children: [/*#__PURE__*/_jsxDEV(\"line\", {\n            x1: \"8\",\n            y1: \"6\",\n            x2: \"21\",\n            y2: \"6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n            x1: \"8\",\n            y1: \"12\",\n            x2: \"21\",\n            y2: \"12\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n            x1: \"8\",\n            y1: \"18\",\n            x2: \"21\",\n            y2: \"18\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n            x1: \"3\",\n            y1: \"6\",\n            x2: \"3.01\",\n            y2: \"6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n            x1: \"3\",\n            y1: \"12\",\n            x2: \"3.01\",\n            y2: \"12\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n            x1: \"3\",\n            y1: \"18\",\n            x2: \"3.01\",\n            y2: \"18\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 21\n        }, this), \"Harmonise Attributes\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 13\n    }, this), confirmPopup.isOpen && /*#__PURE__*/_jsxDEV(ConfirmationPopup, {\n      onConfirm: () => addNewAttribute(graphData, setGraphData, fetchGraphData, setConfirmPopup),\n      onCancel: () => setConfirmPopup({\n        isOpen: false\n      }),\n      title: \"Add New Attribute\",\n      message: \"An unlinked attribute will be created at the top of the table. Would you like to proceed?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        overflowX: \"auto\",\n        boxShadow: \"0 1px 3px rgba(0,0,0,0.1)\",\n        borderRadius: \"8px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        style: {\n          width: \"100%\",\n          borderCollapse: \"collapse\",\n          fontSize: \"0.875rem\",\n          backgroundColor: \"white\",\n          borderRadius: \"8px\",\n          overflow: \"hidden\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            style: {\n              backgroundColor: \"#f1f5f9\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: \"12px 8px\",\n                textAlign: \"left\",\n                borderBottom: \"2px solid #e2e8f0\",\n                color: \"#1e293b\",\n                fontWeight: \"600\",\n                width: showHarmonisedColumn ? \"20%\" : \"30%\",\n                cursor: \"pointer\"\n              },\n              onClick: () => handleSort('cluster'),\n              children: [\"Cluster\", sortConfig.key === 'cluster' && /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  marginLeft: '4px'\n                },\n                children: sortConfig.direction === 'asc' ? '▲' : '▼'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: \"12px 8px\",\n                textAlign: \"left\",\n                borderBottom: \"2px solid #e2e8f0\",\n                color: \"#1e293b\",\n                fontWeight: \"600\",\n                width: showHarmonisedColumn ? \"20%\" : \"30%\",\n                cursor: \"pointer\"\n              },\n              onClick: () => handleSort('object'),\n              children: [\"Object\", sortConfig.key === 'object' && /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  marginLeft: '4px'\n                },\n                children: sortConfig.direction === 'asc' ? '▲' : '▼'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: \"12px 8px\",\n                textAlign: \"left\",\n                borderBottom: \"2px solid #e2e8f0\",\n                color: \"#1e293b\",\n                fontWeight: \"600\",\n                width: showHarmonisedColumn ? \"30%\" : \"40%\",\n                cursor: \"pointer\",\n                position: \"relative\"\n              },\n              onClick: () => handleSort('attribute'),\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: \"flex\",\n                  justifyContent: \"space-between\",\n                  alignItems: \"center\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"Attribute\", sortConfig.key === 'attribute' && /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      marginLeft: '4px'\n                    },\n                    children: sortConfig.direction === 'asc' ? '▲' : '▼'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 385,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setConfirmPopup({\n                    isOpen: true\n                  }),\n                  title: \"Add new attribute\",\n                  style: {\n                    width: \"24px\",\n                    height: \"24px\",\n                    borderRadius: \"50%\",\n                    backgroundColor: \"#1e40af\",\n                    color: \"white\",\n                    border: \"none\",\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    fontSize: \"1.1rem\",\n                    lineHeight: 1,\n                    cursor: \"pointer\",\n                    marginLeft: \"8px\"\n                  },\n                  children: \"+\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 29\n            }, this), showHarmonisedColumn && /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: \"12px 8px\",\n                textAlign: \"left\",\n                borderBottom: \"2px solid #e2e8f0\",\n                color: \"#1e293b\",\n                fontWeight: \"600\",\n                width: \"30%\",\n                cursor: \"pointer\"\n              },\n              onClick: () => handleSort('harmonisedAttribute'),\n              children: [\"Harmonised Attribute\", sortConfig.key === 'harmonisedAttribute' && /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  marginLeft: '4px'\n                },\n                children: sortConfig.direction === 'asc' ? '▲' : '▼'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: paginatedRows.map((row, index) => /*#__PURE__*/_jsxDEV(TableRow, {\n            row: row,\n            index: index,\n            rowSpans: rowSpans,\n            clusterCounts: clusterCounts,\n            objectCounts: objectCounts,\n            hoveredRow: hoveredRow,\n            hoveredCell: hoveredCell,\n            setHoveredRow: setHoveredRow,\n            setHoveredCell: setHoveredCell,\n            handleDragStart: (event, key, category) => handleDragStart(event, key, category, setDraggedItem),\n            handleDragEnd: event => handleDragEnd(event, setDraggedItem),\n            handleDragOver: handleDragOver,\n            handleDragLeave: handleDragLeave,\n            handleDrop: (event, targetKey, targetCategory) => processDragDrop(event, targetKey, targetCategory, graphData, setGraphData, fetchGraphData),\n            openPopup: openPopup,\n            handleClickInput: (key, currentLabel, currentName) => handleClickInput(inputRefs, openPopup, key, currentLabel, currentName),\n            handleLabelChange: handleLabelChange,\n            setInputRef: setInputRef(inputRefs),\n            getDisplayText: text => {\n              if (!text) return \"\";\n              const lines = text.split('\\n');\n              const firstTwoLines = lines.slice(0, 2).join('\\n');\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  position: 'relative',\n                  display: 'inline-block',\n                  width: \"100%\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    overflow: 'hidden',\n                    whiteSpace: 'pre-line',\n                    maxWidth: \"calc(100% - 20px)\",\n                    marginRight: \"2px\",\n                    textOverflow: \"ellipsis\",\n                    display: \"-webkit-box\",\n                    WebkitLineClamp: 2,\n                    WebkitBoxOrient: \"vertical\"\n                  },\n                  dangerouslySetInnerHTML: {\n                    __html: firstTwoLines.substring(0, 100)\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 491,\n                  columnNumber: 45\n                }, this), text && text.length > 100 && /*#__PURE__*/_jsxDEV(\"svg\", {\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  width: \"16\",\n                  height: \"16\",\n                  viewBox: \"0 0 24 24\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  strokeWidth: \"2\",\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  style: {\n                    position: 'absolute',\n                    bottom: '2px',\n                    right: '2px',\n                    cursor: \"pointer\",\n                    color: \"#64748b\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                    cx: \"11\",\n                    cy: \"11\",\n                    r: \"8\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 523,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                    x1: \"21\",\n                    y1: \"21\",\n                    x2: \"16.65\",\n                    y2: \"16.65\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 524,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                    x1: \"11\",\n                    y1: \"8\",\n                    x2: \"11\",\n                    y2: \"14\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 525,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                    x1: \"8\",\n                    y1: \"11\",\n                    x2: \"14\",\n                    y2: \"11\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 526,\n                    columnNumber: 53\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 505,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 490,\n                columnNumber: 41\n              }, this);\n            },\n            getCellColor: getCellColor,\n            getCellBorderStyle: getCellBorderStyle,\n            showHarmonisedColumn: showHarmonisedColumn\n          }, row.attr.key, false, {\n            fileName: _jsxFileName,\n            lineNumber: 443,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 13\n    }, this), totalPages > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        marginTop: '16px',\n        gap: '12px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handlePrevPage,\n        disabled: currentPage === 1,\n        style: {\n          padding: '8px 16px',\n          backgroundColor: currentPage === 1 ? '#e2e8f0' : '#1e40af',\n          color: currentPage === 1 ? '#64748b' : 'white',\n          border: 'none',\n          borderRadius: '4px',\n          cursor: currentPage === 1 ? 'not-allowed' : 'pointer'\n        },\n        children: \"Previous\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 552,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"Page \", currentPage, \" of \", totalPages]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 566,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleNextPage,\n        disabled: currentPage === totalPages,\n        style: {\n          padding: '8px 16px',\n          backgroundColor: currentPage === totalPages ? '#e2e8f0' : '#1e40af',\n          color: currentPage === totalPages ? '#64748b' : 'white',\n          border: 'none',\n          borderRadius: '4px',\n          cursor: currentPage === totalPages ? 'not-allowed' : 'pointer'\n        },\n        children: \"Next\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 569,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 545,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n                    .draggable-item {\n                        transition: transform 0.2s ease, box-shadow 0.2s ease;\n                    }\n                    \n                    .draggable-item:hover {\n                        opacity: 0.95;\n                    }\n                    \n                    .draggable-item.dragging {\n                        cursor: grabbing;\n                        transform: scale(0.98);\n                        opacity: 0.8;\n                    }\n                    \n                    .drop-target {\n                        background-color: rgba(59, 130, 246, 0.1) !important;\n                        box-shadow: inset 0 0 0 2px #3b82f6;\n                        transition: all 0.2s ease;\n                    }\n                    \n                    @keyframes pulse {\n                        0% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.4); }\n                        70% { box-shadow: 0 0 0 10px rgba(59, 130, 246, 0); }\n                        100% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0); }\n                    }\n                `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 588,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 195,\n    columnNumber: 9\n  }, this);\n  // [END_RENDER_METHOD]\n};\n_s(TableVisualization, \"9gUUtM1AogieKsMCva0023tgMqw=\");\n_c = TableVisualization;\nexport default TableVisualization;\nvar _c;\n$RefreshReg$(_c, \"TableVisualization\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useMemo","processDragDrop","handleDragStart","handleDragEnd","handleDragOver","handleDragLeave","filterAndSortRows","getUniqueCategories","getCellColor","getCellBorderStyle","calculateCounts","sortRows","processRowSpans","addNewAttribute","handleClickInput","setInputRef","TableRow","ConfirmationPopup","jsxDEV","_jsxDEV","TableVisualization","graphData","handleLabelChange","openPopup","setGraphData","fetchGraphData","_s","searchTerm","setSearchTerm","filterCategory","setFilterCategory","sortConfig","setSortConfig","key","direction","currentPage","setCurrentPage","ROWS_PER_PAGE","draggedItem","setDraggedItem","sortedRows","setSortedRows","rowSpans","setRowSpans","clusterCounts","setClusterCounts","objectCounts","setObjectCounts","confirmPopup","setConfirmPopup","isOpen","hoveredRow","setHoveredRow","hoveredCell","setHoveredCell","showHarmonisedColumn","setShowHarmonisedColumn","inputRefs","console","log","nodeDataArray","length","linkDataArray","clusters","filter","node","category","objects","attributes","filteredAndSortedRows","paginatedRows","startIndex","slice","totalPages","Math","ceil","handleSort","handleNextPage","handlePrevPage","toggleHarmonisedColumn","clusterCount","objectCount","attributeCount","rows","map","attr","parentObject","find","obj","some","link","from","to","parentCluster","sys","sorted","spans","style","display","justifyContent","alignItems","height","color","children","fileName","_jsxFileName","lineNumber","columnNumber","className","marginBottom","gap","flex","type","placeholder","value","onChange","e","target","width","padding","border","borderRadius","fontSize","cluster","object","onClick","backgroundColor","cursor","xmlns","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","x1","y1","x2","y2","onConfirm","onCancel","title","message","overflowX","boxShadow","borderCollapse","overflow","textAlign","borderBottom","fontWeight","marginLeft","position","lineHeight","row","index","event","handleDrop","targetKey","targetCategory","currentLabel","currentName","getDisplayText","text","lines","split","firstTwoLines","join","whiteSpace","maxWidth","marginRight","textOverflow","WebkitLineClamp","WebkitBoxOrient","dangerouslySetInnerHTML","__html","substring","bottom","right","cx","cy","r","marginTop","disabled","_c","$RefreshReg$"],"sources":["C:/Users/R40008/Asset Model Server/python/bim-ai-poc/frontend/src/components/TableVisualization/index.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useMemo } from \"react\";\r\n\r\n// Import modular utility functions\r\nimport { \r\n    processDragDrop,\r\n    handleDragStart,\r\n    handleDragEnd,\r\n    handleDragOver,\r\n    handleDragLeave\r\n} from './DragDropUtils';\r\nimport { \r\n    filterAndSortRows, \r\n    getUniqueCategories,\r\n    getCellColor,\r\n    getCellBorderStyle\r\n} from './FilterSortUtils';\r\nimport { calculateCounts } from './CountCalculators';\r\nimport { \r\n    sortRows, \r\n    processRowSpans \r\n} from './RowProcessing';\r\nimport { \r\n    addNewAttribute,\r\n    handleClickInput,\r\n    setInputRef \r\n} from './AttributeManagement';\r\n\r\n// Component imports\r\nimport TableRow from '../TableRow';\r\nimport ConfirmationPopup from '../ConfirmationPopup';\r\n\r\n// [START_COMPONENT_DEFINITION]\r\nconst TableVisualization = ({ \r\n    graphData, \r\n    handleLabelChange, \r\n    openPopup, \r\n    setGraphData, \r\n    fetchGraphData \r\n}) => {\r\n    // [START_STATE_HOOKS]\r\n    const [searchTerm, setSearchTerm] = useState(\"\");\r\n    const [filterCategory, setFilterCategory] = useState(\"all\");\r\n    const [sortConfig, setSortConfig] = useState({ \r\n        key: null, \r\n        direction: 'asc' \r\n    });\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const ROWS_PER_PAGE = 50;\r\n    // [END_STATE_HOOKS]\r\n\r\n    // [START_ADDITIONAL_STATE]\r\n    const [draggedItem, setDraggedItem] = useState(null);\r\n    const [sortedRows, setSortedRows] = useState([]);\r\n    const [rowSpans, setRowSpans] = useState({});\r\n    const [clusterCounts, setClusterCounts] = useState({});\r\n    const [objectCounts, setObjectCounts] = useState({});\r\n    const [confirmPopup, setConfirmPopup] = useState({ isOpen: false });\r\n    const [hoveredRow, setHoveredRow] = useState(null);\r\n    const [hoveredCell, setHoveredCell] = useState(null);\r\n    // New state for harmonised attributes column\r\n    const [showHarmonisedColumn, setShowHarmonisedColumn] = useState(false);\r\n    const inputRefs = useRef({});\r\n    // [END_ADDITIONAL_STATE]\r\n\r\n    // [START_DEBUGGING_LOG]\r\n    useEffect(() => {\r\n        console.log(\"Graph Data Received:\", graphData);\r\n        \r\n        if (graphData) {\r\n            console.log(\"Node Data Array Length:\", graphData.nodeDataArray.length);\r\n            console.log(\"Link Data Array Length:\", graphData.linkDataArray.length);\r\n            \r\n            const clusters = graphData.nodeDataArray.filter((node) => node.category === \"system\");\r\n            const objects = graphData.nodeDataArray.filter((node) => node.category === \"object\");\r\n            const attributes = graphData.nodeDataArray.filter((node) => node.category === \"attribute\");\r\n\r\n            console.log(\"Clusters:\", clusters);\r\n            console.log(\"Objects:\", objects);\r\n            console.log(\"Attributes:\", attributes);\r\n        }\r\n    }, [graphData]);\r\n    // [END_DEBUGGING_LOG]\r\n\t// [START_MEMOIZED_ROWS]\r\n    const filteredAndSortedRows = useMemo(() => \r\n        filterAndSortRows(sortedRows, searchTerm, filterCategory, sortConfig), \r\n        [sortedRows, searchTerm, filterCategory, sortConfig]\r\n    );\r\n\r\n    const paginatedRows = useMemo(() => {\r\n        const startIndex = (currentPage - 1) * ROWS_PER_PAGE;\r\n        return filteredAndSortedRows.slice(startIndex, startIndex + ROWS_PER_PAGE);\r\n    }, [filteredAndSortedRows, currentPage]);\r\n    // [END_MEMOIZED_ROWS]\r\n\r\n    // [START_PAGINATION_CALCULATIONS]\r\n    const totalPages = Math.ceil(filteredAndSortedRows.length / ROWS_PER_PAGE);\r\n    // [END_PAGINATION_CALCULATIONS]\r\n\r\n    // [START_EVENT_HANDLERS]\r\n    const handleSort = (key) => {\r\n        let direction = 'asc';\r\n        if (sortConfig.key === key && sortConfig.direction === 'asc') {\r\n            direction = 'desc';\r\n        }\r\n        setSortConfig({ key, direction });\r\n    };\r\n\r\n    const handleNextPage = () => {\r\n        if (currentPage < totalPages) {\r\n            setCurrentPage(currentPage + 1);\r\n        }\r\n    };\r\n\r\n    const handlePrevPage = () => {\r\n        if (currentPage > 1) {\r\n            setCurrentPage(currentPage - 1);\r\n        }\r\n    };\r\n    \r\n    // Toggle harmonised column visibility\r\n    const toggleHarmonisedColumn = () => {\r\n        setShowHarmonisedColumn(!showHarmonisedColumn);\r\n    };\r\n    // [END_EVENT_HANDLERS]\r\n\r\n    // [START_PAGE_RESET_EFFECT]\r\n    useEffect(() => {\r\n        setCurrentPage(1);\r\n    }, [searchTerm, filterCategory]);\r\n    // [END_PAGE_RESET_EFFECT]\r\n\r\n    // [START_GRAPH_DATA_PROCESSING_EFFECT]\r\n    useEffect(() => {\r\n        if (graphData && graphData.nodeDataArray.length > 0) {\r\n            const clusters = graphData.nodeDataArray.filter((node) => node.category === \"system\");\r\n            const objects = graphData.nodeDataArray.filter((node) => node.category === \"object\");\r\n            const attributes = graphData.nodeDataArray.filter((node) => node.category === \"attribute\");\r\n\r\n            console.log(\"Processing rows:\", {\r\n                clusterCount: clusters.length,\r\n                objectCount: objects.length,\r\n                attributeCount: attributes.length\r\n            });\r\n\r\n            // Create rows with relationships\r\n            const rows = attributes.map((attr) => {\r\n                const parentObject = objects.find((obj) =>\r\n                    graphData.linkDataArray.some((link) => link.from === obj.key && link.to === attr.key)\r\n                );\r\n\r\n                const parentCluster = parentObject\r\n                    ? clusters.find((sys) =>\r\n                        graphData.linkDataArray.some((link) => link.from === sys.key && link.to === parentObject.key)\r\n                    )\r\n                    : null;\r\n\r\n                return { attr, parentObject, parentCluster };\r\n            });\r\n\r\n            console.log(\"Processed Rows:\", rows);\r\n\r\n            // Sort rows\r\n            const sorted = sortRows(rows);\r\n            setSortedRows(sorted);\r\n\r\n            // Process row spans\r\n            const spans = processRowSpans(sorted);\r\n            setRowSpans(spans);\r\n\r\n            // Calculate counts\r\n            const { clusterCounts, objectCounts } = calculateCounts(graphData);\r\n            setClusterCounts(clusterCounts);\r\n            setObjectCounts(objectCounts);\r\n        }\r\n    }, [graphData]);\r\n    // [END_GRAPH_DATA_PROCESSING_EFFECT]\r\n\r\n    // [START_NO_DATA_FALLBACK]\r\n    if (!graphData || graphData.nodeDataArray.length === 0) {\r\n        return (\r\n            <div style={{\r\n                display: 'flex',\r\n                justifyContent: 'center',\r\n                alignItems: 'center',\r\n                height: '200px',\r\n                color: '#666'\r\n            }}>\r\n                No data available. Please upload a file.\r\n            </div>\r\n        );\r\n    }\r\n    // [END_NO_DATA_FALLBACK]\r\n\t// [START_RENDER_METHOD]\r\n    return (\r\n        <div className=\"table-container\">\r\n            {/* [START_SEARCH_AND_FILTER_CONTROLS] */}\r\n            <div style={{ \r\n                display: 'flex', \r\n                justifyContent: 'space-between', \r\n                marginBottom: '16px',\r\n                gap: '16px'\r\n            }}>\r\n                {/* Search Input */}\r\n                <div style={{ \r\n                    display: 'flex', \r\n                    alignItems: 'center', \r\n                    flex: 1 \r\n                }}>\r\n                    <input \r\n                        type=\"text\"\r\n                        placeholder=\"Search nodes...\"\r\n                        value={searchTerm}\r\n                        onChange={(e) => setSearchTerm(e.target.value)}\r\n                        style={{\r\n                            width: '100%',\r\n                            padding: '8px 12px',\r\n                            border: '1px solid #cbd5e1',\r\n                            borderRadius: '4px',\r\n                            fontSize: '0.875rem'\r\n                        }}\r\n                    />\r\n                </div>\r\n\r\n                {/* Category Filter */}\r\n                <select \r\n                    value={filterCategory}\r\n                    onChange={(e) => setFilterCategory(e.target.value)}\r\n                    style={{\r\n                        padding: '8px 12px',\r\n                        border: '1px solid #cbd5e1',\r\n                        borderRadius: '4px',\r\n                        fontSize: '0.875rem'\r\n                    }}\r\n                >\r\n                    <option value=\"all\">All Categories</option>\r\n                    <option value=\"unlinked\">Unlinked</option>\r\n                    {getUniqueCategories(sortedRows).clusters.map(cluster => (\r\n                        <option key={`cluster-${cluster}`} value={cluster}>\r\n                            Cluster: {cluster}\r\n                        </option>\r\n                    ))}\r\n                    {getUniqueCategories(sortedRows).objects.map(object => (\r\n                        <option key={`object-${object}`} value={object}>\r\n                            Object: {object}\r\n                        </option>\r\n                    ))}\r\n                </select>\r\n                \r\n                {/* Harmonise Attributes Button */}\r\n                <button \r\n                    onClick={toggleHarmonisedColumn}\r\n                    style={{\r\n                        padding: '8px 12px',\r\n                        backgroundColor: showHarmonisedColumn ? '#1e40af' : '#3b82f6',\r\n                        color: 'white',\r\n                        border: 'none',\r\n                        borderRadius: '4px',\r\n                        fontSize: '0.875rem',\r\n                        cursor: 'pointer',\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        gap: '6px'\r\n                    }}\r\n                >\r\n                    <svg \r\n                        xmlns=\"http://www.w3.org/2000/svg\" \r\n                        width=\"16\" \r\n                        height=\"16\" \r\n                        viewBox=\"0 0 24 24\" \r\n                        fill=\"none\" \r\n                        stroke=\"currentColor\" \r\n                        strokeWidth=\"2\" \r\n                        strokeLinecap=\"round\" \r\n                        strokeLinejoin=\"round\"\r\n                    >\r\n                        <line x1=\"8\" y1=\"6\" x2=\"21\" y2=\"6\"></line>\r\n                        <line x1=\"8\" y1=\"12\" x2=\"21\" y2=\"12\"></line>\r\n                        <line x1=\"8\" y1=\"18\" x2=\"21\" y2=\"18\"></line>\r\n                        <line x1=\"3\" y1=\"6\" x2=\"3.01\" y2=\"6\"></line>\r\n                        <line x1=\"3\" y1=\"12\" x2=\"3.01\" y2=\"12\"></line>\r\n                        <line x1=\"3\" y1=\"18\" x2=\"3.01\" y2=\"18\"></line>\r\n                    </svg>\r\n                    Harmonise Attributes\r\n                </button>\r\n            </div>\r\n            {/* [END_SEARCH_AND_FILTER_CONTROLS] */}\r\n\r\n            {/* [START_CONFIRMATION_POPUP] */}\r\n            {confirmPopup.isOpen && (\r\n                <ConfirmationPopup \r\n                    onConfirm={() => addNewAttribute(\r\n                        graphData, \r\n                        setGraphData, \r\n                        fetchGraphData, \r\n                        setConfirmPopup\r\n                    )}\r\n                    onCancel={() => setConfirmPopup({ isOpen: false })}\r\n                    title=\"Add New Attribute\"\r\n                    message=\"An unlinked attribute will be created at the top of the table. Would you like to proceed?\"\r\n                />\r\n            )}\r\n            {/* [END_CONFIRMATION_POPUP] */}\r\n\r\n            {/* [START_TABLE_CONTAINER] */}\r\n            <div style={{ \r\n                overflowX: \"auto\", \r\n                boxShadow: \"0 1px 3px rgba(0,0,0,0.1)\", \r\n                borderRadius: \"8px\" \r\n            }}>\r\n                <table style={{ \r\n                    width: \"100%\", \r\n                    borderCollapse: \"collapse\",\r\n                    fontSize: \"0.875rem\",\r\n                    backgroundColor: \"white\",\r\n                    borderRadius: \"8px\",\r\n                    overflow: \"hidden\"\r\n                }}>\r\n                    {/* [START_TABLE_HEADER] */}\r\n                    <thead>\r\n                        <tr style={{ backgroundColor: \"#f1f5f9\" }}>\r\n                            {/* Cluster Column Header */}\r\n                            <th \r\n                                style={{ \r\n                                    padding: \"12px 8px\", \r\n                                    textAlign: \"left\", \r\n                                    borderBottom: \"2px solid #e2e8f0\", \r\n                                    color: \"#1e293b\",\r\n                                    fontWeight: \"600\",\r\n                                    width: showHarmonisedColumn ? \"20%\" : \"30%\",\r\n                                    cursor: \"pointer\"\r\n                                }}\r\n                                onClick={() => handleSort('cluster')}\r\n                            >\r\n                                Cluster \r\n                                {sortConfig.key === 'cluster' && (\r\n                                    <span style={{ marginLeft: '4px' }}>\r\n                                        {sortConfig.direction === 'asc' ? '▲' : '▼'}\r\n                                    </span>\r\n                                )}\r\n                            </th>\r\n\r\n                            {/* Object Column Header */}\r\n                            <th \r\n                                style={{ \r\n                                    padding: \"12px 8px\", \r\n                                    textAlign: \"left\", \r\n                                    borderBottom: \"2px solid #e2e8f0\", \r\n                                    color: \"#1e293b\",\r\n                                    fontWeight: \"600\",\r\n                                    width: showHarmonisedColumn ? \"20%\" : \"30%\",\r\n                                    cursor: \"pointer\"\r\n                                }}\r\n                                onClick={() => handleSort('object')}\r\n                            >\r\n                                Object \r\n                                {sortConfig.key === 'object' && (\r\n                                    <span style={{ marginLeft: '4px' }}>\r\n                                        {sortConfig.direction === 'asc' ? '▲' : '▼'}\r\n                                    </span>\r\n                                )}\r\n                            </th>\r\n\r\n                            {/* Attribute Column Header */}\r\n                            <th \r\n                                style={{ \r\n                                    padding: \"12px 8px\", \r\n                                    textAlign: \"left\", \r\n                                    borderBottom: \"2px solid #e2e8f0\", \r\n                                    color: \"#1e293b\",\r\n                                    fontWeight: \"600\",\r\n                                    width: showHarmonisedColumn ? \"30%\" : \"40%\",\r\n                                    cursor: \"pointer\",\r\n                                    position: \"relative\"\r\n                                }}\r\n                                onClick={() => handleSort('attribute')}\r\n                            >\r\n                                <div style={{ \r\n                                    display: \"flex\", \r\n                                    justifyContent: \"space-between\", \r\n                                    alignItems: \"center\" \r\n                                }}>\r\n                                    <span>\r\n                                        Attribute \r\n                                        {sortConfig.key === 'attribute' && (\r\n                                            <span style={{ marginLeft: '4px' }}>\r\n                                                {sortConfig.direction === 'asc' ? '▲' : '▼'}\r\n                                            </span>\r\n                                        )}\r\n                                    </span>\r\n                                    <button \r\n                                        onClick={() => setConfirmPopup({ isOpen: true })} \r\n                                        title=\"Add new attribute\"\r\n                                        style={{\r\n                                            width: \"24px\",\r\n                                            height: \"24px\",\r\n                                            borderRadius: \"50%\",\r\n                                            backgroundColor: \"#1e40af\",\r\n                                            color: \"white\",\r\n                                            border: \"none\",\r\n                                            display: \"flex\",\r\n                                            alignItems: \"center\",\r\n                                            justifyContent: \"center\",\r\n                                            fontSize: \"1.1rem\",\r\n                                            lineHeight: 1,\r\n                                            cursor: \"pointer\",\r\n                                            marginLeft: \"8px\"\r\n                                        }}\r\n                                    >\r\n                                        +\r\n                                    </button>\r\n                                </div>\r\n                            </th>\r\n                            \r\n                            {/* Harmonised Attribute Column Header - Only shown when toggled */}\r\n                            {showHarmonisedColumn && (\r\n                                <th \r\n                                    style={{ \r\n                                        padding: \"12px 8px\", \r\n                                        textAlign: \"left\", \r\n                                        borderBottom: \"2px solid #e2e8f0\", \r\n                                        color: \"#1e293b\",\r\n                                        fontWeight: \"600\",\r\n                                        width: \"30%\",\r\n                                        cursor: \"pointer\"\r\n                                    }}\r\n                                    onClick={() => handleSort('harmonisedAttribute')}\r\n                                >\r\n                                    Harmonised Attribute\r\n                                    {sortConfig.key === 'harmonisedAttribute' && (\r\n                                        <span style={{ marginLeft: '4px' }}>\r\n                                            {sortConfig.direction === 'asc' ? '▲' : '▼'}\r\n                                        </span>\r\n                                    )}\r\n                                </th>\r\n                            )}\r\n                        </tr>\r\n                    </thead>\r\n                    {/* [END_TABLE_HEADER] */}\r\n\r\n                    {/* [START_TABLE_BODY] */}\r\n                    <tbody>\r\n                        {paginatedRows.map((row, index) => (\r\n                            <TableRow \r\n                                key={row.attr.key}\r\n                                row={row}\r\n                                index={index}\r\n                                rowSpans={rowSpans}\r\n                                clusterCounts={clusterCounts}\r\n                                objectCounts={objectCounts}\r\n                                hoveredRow={hoveredRow}\r\n                                hoveredCell={hoveredCell}\r\n                                setHoveredRow={setHoveredRow}\r\n                                setHoveredCell={setHoveredCell}\r\n                                handleDragStart={(event, key, category) => \r\n                                    handleDragStart(event, key, category, setDraggedItem)\r\n                                }\r\n                                handleDragEnd={(event) => \r\n                                    handleDragEnd(event, setDraggedItem)\r\n                                }\r\n                                handleDragOver={handleDragOver}\r\n                                handleDragLeave={handleDragLeave}\r\n                                handleDrop={(event, targetKey, targetCategory) => \r\n                                    processDragDrop(\r\n                                        event, \r\n                                        targetKey, \r\n                                        targetCategory, \r\n                                        graphData, \r\n                                        setGraphData, \r\n                                        fetchGraphData\r\n                                    )\r\n                                }\r\n                                openPopup={openPopup}\r\n                                handleClickInput={(key, currentLabel, currentName) => \r\n                                    handleClickInput(\r\n                                        inputRefs, \r\n                                        openPopup, \r\n                                        key, \r\n                                        currentLabel, \r\n                                        currentName\r\n                                    )\r\n                                }\r\n                                handleLabelChange={handleLabelChange}\r\n                                setInputRef={setInputRef(inputRefs)}\r\n                                getDisplayText={(text) => {\r\n                                    if (!text) return \"\";\r\n                                    const lines = text.split('\\n');\r\n                                    const firstTwoLines = lines.slice(0, 2).join('\\n');\r\n                                    \r\n                                    return (\r\n                                        <div style={{ position: 'relative', display: 'inline-block', width: \"100%\" }}>\r\n                                            <div \r\n                                                style={{ \r\n                                                    overflow: 'hidden', \r\n                                                    whiteSpace: 'pre-line', \r\n                                                    maxWidth: \"calc(100% - 20px)\", \r\n                                                    marginRight: \"2px\",\r\n                                                    textOverflow: \"ellipsis\",\r\n                                                    display: \"-webkit-box\",\r\n                                                    WebkitLineClamp: 2,\r\n                                                    WebkitBoxOrient: \"vertical\"\r\n                                                }}\r\n                                                dangerouslySetInnerHTML={{ __html: firstTwoLines.substring(0, 100) }}\r\n                                            />\r\n                                            {text && text.length > 100 && (\r\n                                                <svg \r\n                                                    xmlns=\"http://www.w3.org/2000/svg\" \r\n                                                    width=\"16\" \r\n                                                    height=\"16\" \r\n                                                    viewBox=\"0 0 24 24\" \r\n                                                    fill=\"none\" \r\n                                                    stroke=\"currentColor\" \r\n                                                    strokeWidth=\"2\" \r\n                                                    strokeLinecap=\"round\" \r\n                                                    strokeLinejoin=\"round\"\r\n                                                    style={{ \r\n                                                        position: 'absolute', \r\n                                                        bottom: '2px', \r\n                                                        right: '2px', \r\n                                                        cursor: \"pointer\",\r\n                                                        color: \"#64748b\"\r\n                                                    }}\r\n                                                >\r\n                                                    <circle cx=\"11\" cy=\"11\" r=\"8\" />\r\n                                                    <line x1=\"21\" y1=\"21\" x2=\"16.65\" y2=\"16.65\" />\r\n                                                    <line x1=\"11\" y1=\"8\" x2=\"11\" y2=\"14\" />\r\n                                                    <line x1=\"8\" y1=\"11\" x2=\"14\" y2=\"11\" />\r\n                                                </svg>\r\n                                            )}\r\n                                        </div>\r\n                                    );\r\n                                }}\r\n                                getCellColor={getCellColor}\r\n                                getCellBorderStyle={getCellBorderStyle}\r\n                                showHarmonisedColumn={showHarmonisedColumn}\r\n                            />\r\n                        ))}\r\n                    </tbody>\r\n                    {/* [END_TABLE_BODY] */}\r\n                </table>\r\n            </div>\r\n            {/* [END_TABLE_CONTAINER] */}\r\n\r\n            {/* [START_PAGINATION_CONTROLS] */}\r\n            {totalPages > 1 && (\r\n                <div style={{\r\n                    display: 'flex',\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: '16px',\r\n                    gap: '12px'\r\n                }}>\r\n                    <button \r\n                        onClick={handlePrevPage}\r\n                        disabled={currentPage === 1}\r\n                        style={{\r\n                            padding: '8px 16px',\r\n                            backgroundColor: currentPage === 1 ? '#e2e8f0' : '#1e40af',\r\n                            color: currentPage === 1 ? '#64748b' : 'white',\r\n                            border: 'none',\r\n                            borderRadius: '4px',\r\n                            cursor: currentPage === 1 ? 'not-allowed' : 'pointer'\r\n                        }}\r\n                    >\r\n                        Previous\r\n                    </button>\r\n                    <span>\r\n                        Page {currentPage} of {totalPages}\r\n                    </span>\r\n                    <button \r\n                        onClick={handleNextPage}\r\n                        disabled={currentPage === totalPages}\r\n                        style={{\r\n                            padding: '8px 16px',\r\n                            backgroundColor: currentPage === totalPages ? '#e2e8f0' : '#1e40af',\r\n                            color: currentPage === totalPages ? '#64748b' : 'white',\r\n                            border: 'none',\r\n                            borderRadius: '4px',\r\n                            cursor: currentPage === totalPages ? 'not-allowed' : 'pointer'\r\n                        }}\r\n                    >\r\n                        Next\r\n                    </button>\r\n                </div>\r\n            )}\r\n            {/* [END_PAGINATION_CONTROLS] */}\r\n\r\n            {/* [START_DRAG_DROP_STYLES] */}\r\n            <style>\r\n                {`\r\n                    .draggable-item {\r\n                        transition: transform 0.2s ease, box-shadow 0.2s ease;\r\n                    }\r\n                    \r\n                    .draggable-item:hover {\r\n                        opacity: 0.95;\r\n                    }\r\n                    \r\n                    .draggable-item.dragging {\r\n                        cursor: grabbing;\r\n                        transform: scale(0.98);\r\n                        opacity: 0.8;\r\n                    }\r\n                    \r\n                    .drop-target {\r\n                        background-color: rgba(59, 130, 246, 0.1) !important;\r\n                        box-shadow: inset 0 0 0 2px #3b82f6;\r\n                        transition: all 0.2s ease;\r\n                    }\r\n                    \r\n                    @keyframes pulse {\r\n                        0% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.4); }\r\n                        70% { box-shadow: 0 0 0 10px rgba(59, 130, 246, 0); }\r\n                        100% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0); }\r\n                    }\r\n                `}\r\n            </style>\r\n            {/* [END_DRAG_DROP_STYLES] */}\r\n        </div>\r\n    );\r\n    // [END_RENDER_METHOD]\r\n};\r\n\r\nexport default TableVisualization;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}