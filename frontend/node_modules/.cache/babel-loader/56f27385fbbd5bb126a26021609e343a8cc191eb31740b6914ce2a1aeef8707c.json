{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\R40008\\\\Asset Model Server\\\\python\\\\bim-ai-poc\\\\frontend\\\\src\\\\components\\\\GraphVisualization.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\nimport * as go from \"gojs\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GraphVisualization = ({\n  graphData\n}) => {\n  _s();\n  const diagramRef = useRef();\n  const [dimensions, setDimensions] = useState({\n    width: \"100%\",\n    height: \"600px\"\n  });\n  useEffect(() => {\n    if (graphData) {\n      const $ = go.GraphObject.make;\n      if (diagramRef.current) {\n        const existingDiagram = go.Diagram.fromDiv(diagramRef.current);\n        if (existingDiagram) {\n          existingDiagram.div = null;\n        }\n      }\n      const myDiagram = $(go.Diagram, diagramRef.current, {\n        \"undoManager.isEnabled\": true,\n        layout: $(go.TreeLayout, {\n          angle: 0,\n          layerSpacing: 35\n        })\n      });\n      myDiagram.nodeTemplate = $(go.Node, \"Auto\", $(go.Shape, \"RoundedRectangle\", {\n        fill: \"lightblue\"\n      }, new go.Binding(\"fill\", \"color\")), $(go.TextBlock, {\n        margin: 5\n      }, new go.Binding(\"text\", \"label\")));\n      myDiagram.model = new go.GraphLinksModel(graphData.nodeDataArray, graphData.linkDataArray);\n      myDiagram.addDiagramListener(\"InitialLayoutCompleted\", () => {\n        const bounds = myDiagram.documentBounds;\n        setDimensions({\n          width: `${Math.ceil(bounds.width)}px`,\n          height: `${Math.ceil(bounds.height)}px`\n        });\n      });\n    }\n  }, [graphData]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: diagramRef,\n    style: {\n      width: dimensions.width,\n      height: dimensions.height\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 10\n  }, this);\n};\n_s(GraphVisualization, \"DqJ1KH3UjOM9lau6GgVJkfL9lAc=\");\n_c = GraphVisualization;\nexport default GraphVisualization;\nvar _c;\n$RefreshReg$(_c, \"GraphVisualization\");","map":{"version":3,"names":["React","useEffect","useRef","useState","go","jsxDEV","_jsxDEV","GraphVisualization","graphData","_s","diagramRef","dimensions","setDimensions","width","height","$","GraphObject","make","current","existingDiagram","Diagram","fromDiv","div","myDiagram","layout","TreeLayout","angle","layerSpacing","nodeTemplate","Node","Shape","fill","Binding","TextBlock","margin","model","GraphLinksModel","nodeDataArray","linkDataArray","addDiagramListener","bounds","documentBounds","Math","ceil","ref","style","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/R40008/Asset Model Server/python/bim-ai-poc/frontend/src/components/GraphVisualization.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport * as go from \"gojs\";\r\n\r\nconst GraphVisualization = ({ graphData }) => {\r\n  const diagramRef = useRef();\r\n  const [dimensions, setDimensions] = useState({ width: \"100%\", height: \"600px\" });\r\n\r\n  useEffect(() => {\r\n    if (graphData) {\r\n      const $ = go.GraphObject.make;\r\n\r\n      if (diagramRef.current) {\r\n        const existingDiagram = go.Diagram.fromDiv(diagramRef.current);\r\n        if (existingDiagram) {\r\n          existingDiagram.div = null;\r\n        }\r\n      }\r\n\r\n      const myDiagram = $(go.Diagram, diagramRef.current, {\r\n        \"undoManager.isEnabled\": true,\r\n        layout: $(go.TreeLayout, { angle: 0, layerSpacing: 35 }),\r\n      });\r\n\r\n      myDiagram.nodeTemplate = $(\r\n        go.Node,\r\n        \"Auto\",\r\n        $(go.Shape, \"RoundedRectangle\", { fill: \"lightblue\" }, new go.Binding(\"fill\", \"color\")),\r\n        $(go.TextBlock, { margin: 5 }, new go.Binding(\"text\", \"label\"))\r\n      );\r\n\r\n      myDiagram.model = new go.GraphLinksModel(graphData.nodeDataArray, graphData.linkDataArray);\r\n\r\n      myDiagram.addDiagramListener(\"InitialLayoutCompleted\", () => {\r\n        const bounds = myDiagram.documentBounds;\r\n        setDimensions({\r\n          width: `${Math.ceil(bounds.width)}px`,\r\n          height: `${Math.ceil(bounds.height)}px`,\r\n        });\r\n      });\r\n    }\r\n  }, [graphData]);\r\n\r\n  return <div ref={diagramRef} style={{ width: dimensions.width, height: dimensions.height }} />;\r\n};\r\n\r\nexport default GraphVisualization;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAC1D,OAAO,KAAKC,EAAE,MAAM,MAAM;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3B,MAAMC,kBAAkB,GAAGA,CAAC;EAAEC;AAAU,CAAC,KAAK;EAAAC,EAAA;EAC5C,MAAMC,UAAU,GAAGR,MAAM,CAAC,CAAC;EAC3B,MAAM,CAACS,UAAU,EAAEC,aAAa,CAAC,GAAGT,QAAQ,CAAC;IAAEU,KAAK,EAAE,MAAM;IAAEC,MAAM,EAAE;EAAQ,CAAC,CAAC;EAEhFb,SAAS,CAAC,MAAM;IACd,IAAIO,SAAS,EAAE;MACb,MAAMO,CAAC,GAAGX,EAAE,CAACY,WAAW,CAACC,IAAI;MAE7B,IAAIP,UAAU,CAACQ,OAAO,EAAE;QACtB,MAAMC,eAAe,GAAGf,EAAE,CAACgB,OAAO,CAACC,OAAO,CAACX,UAAU,CAACQ,OAAO,CAAC;QAC9D,IAAIC,eAAe,EAAE;UACnBA,eAAe,CAACG,GAAG,GAAG,IAAI;QAC5B;MACF;MAEA,MAAMC,SAAS,GAAGR,CAAC,CAACX,EAAE,CAACgB,OAAO,EAAEV,UAAU,CAACQ,OAAO,EAAE;QAClD,uBAAuB,EAAE,IAAI;QAC7BM,MAAM,EAAET,CAAC,CAACX,EAAE,CAACqB,UAAU,EAAE;UAAEC,KAAK,EAAE,CAAC;UAAEC,YAAY,EAAE;QAAG,CAAC;MACzD,CAAC,CAAC;MAEFJ,SAAS,CAACK,YAAY,GAAGb,CAAC,CACxBX,EAAE,CAACyB,IAAI,EACP,MAAM,EACNd,CAAC,CAACX,EAAE,CAAC0B,KAAK,EAAE,kBAAkB,EAAE;QAAEC,IAAI,EAAE;MAAY,CAAC,EAAE,IAAI3B,EAAE,CAAC4B,OAAO,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC,EACvFjB,CAAC,CAACX,EAAE,CAAC6B,SAAS,EAAE;QAAEC,MAAM,EAAE;MAAE,CAAC,EAAE,IAAI9B,EAAE,CAAC4B,OAAO,CAAC,MAAM,EAAE,OAAO,CAAC,CAChE,CAAC;MAEDT,SAAS,CAACY,KAAK,GAAG,IAAI/B,EAAE,CAACgC,eAAe,CAAC5B,SAAS,CAAC6B,aAAa,EAAE7B,SAAS,CAAC8B,aAAa,CAAC;MAE1Ff,SAAS,CAACgB,kBAAkB,CAAC,wBAAwB,EAAE,MAAM;QAC3D,MAAMC,MAAM,GAAGjB,SAAS,CAACkB,cAAc;QACvC7B,aAAa,CAAC;UACZC,KAAK,EAAE,GAAG6B,IAAI,CAACC,IAAI,CAACH,MAAM,CAAC3B,KAAK,CAAC,IAAI;UACrCC,MAAM,EAAE,GAAG4B,IAAI,CAACC,IAAI,CAACH,MAAM,CAAC1B,MAAM,CAAC;QACrC,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ;EACF,CAAC,EAAE,CAACN,SAAS,CAAC,CAAC;EAEf,oBAAOF,OAAA;IAAKsC,GAAG,EAAElC,UAAW;IAACmC,KAAK,EAAE;MAAEhC,KAAK,EAAEF,UAAU,CAACE,KAAK;MAAEC,MAAM,EAAEH,UAAU,CAACG;IAAO;EAAE;IAAAgC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AAChG,CAAC;AAACxC,EAAA,CAxCIF,kBAAkB;AAAA2C,EAAA,GAAlB3C,kBAAkB;AA0CxB,eAAeA,kBAAkB;AAAC,IAAA2C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}