{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\R40008\\\\Asset Model Server\\\\python\\\\bim-ai-poc\\\\frontend\\\\src\\\\components\\\\TableGraphVisualization.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\n\n/**\r\n * TableGraphVisualization - A component that visualizes graph data as tables\r\n * with 3NF compliance checks for harmonized attributes\r\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TableGraphVisualization = ({\n  graphData,\n  dimensions\n}) => {\n  _s();\n  const [processedData, setProcessedData] = useState([]);\n  const [expandedAttributes, setExpandedAttributes] = useState({});\n  const [show3NFStatus, setShow3NFStatus] = useState(false);\n\n  // Process the graph data into a format suitable for table visualization\n  useEffect(() => {\n    if (graphData && graphData.nodeDataArray && graphData.linkDataArray) {\n      try {\n        const organized = organizeDataForVisualization(graphData);\n        setProcessedData(organized);\n        // Reset expanded state when data changes\n        setExpandedAttributes({});\n      } catch (error) {\n        console.error('Error processing graph data for table visualization:', error);\n        setProcessedData([]);\n      }\n    }\n  }, [graphData]);\n\n  // Toggle expand/collapse for an attribute\n  const toggleExpand = (objectKey, attrName) => {\n    setExpandedAttributes(prev => {\n      const key = `${objectKey}-${attrName}`;\n      return {\n        ...prev,\n        [key]: !prev[key]\n      };\n    });\n  };\n\n  // Check if an attribute is expanded\n  const isExpanded = (objectKey, attrName) => {\n    const key = `${objectKey}-${attrName}`;\n    return !!expandedAttributes[key];\n  };\n\n  // Toggle 3NF compliance check display\n  const toggle3NFCheck = () => {\n    setShow3NFStatus(prev => !prev);\n  };\n\n  // Calculate container styles based on dimensions\n  const containerStyle = {\n    width: (dimensions === null || dimensions === void 0 ? void 0 : dimensions.width) || '100%',\n    height: (dimensions === null || dimensions === void 0 ? void 0 : dimensions.height) || '600px',\n    padding: '10px',\n    background: '#f8fafc',\n    border: '1px solid #e2e8f0',\n    borderRadius: '8px',\n    overflow: 'auto',\n    maxHeight: (dimensions === null || dimensions === void 0 ? void 0 : dimensions.height) || '600px',\n    position: 'relative',\n    boxSizing: 'border-box'\n  };\n  if (!graphData || !processedData.length) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        ...containerStyle,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        fontSize: \"16px\",\n        fontStyle: \"italic\",\n        color: \"#64748b\"\n      },\n      children: \"Upload data to visualize tables and their relationships.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: containerStyle,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'sticky',\n        top: 0,\n        zIndex: 10,\n        padding: '10px',\n        background: '#f8fafc',\n        borderBottom: '1px solid #e2e8f0',\n        display: 'flex',\n        justifyContent: 'center',\n        boxShadow: '0 2px 4px rgba(0,0,0,0.05)'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: toggle3NFCheck,\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: '8px',\n          padding: '6px 12px',\n          backgroundColor: show3NFStatus ? '#8b5cf6' : '#6366f1',\n          color: 'white',\n          border: 'none',\n          borderRadius: '4px',\n          fontSize: '13px',\n          fontWeight: '500',\n          cursor: 'pointer',\n          boxShadow: '0 1px 2px rgba(0,0,0,0.1)',\n          transition: 'all 0.2s ease'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          width: \"16\",\n          height: \"16\",\n          viewBox: \"0 0 24 24\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          strokeWidth: \"2\",\n          strokeLinecap: \"round\",\n          strokeLinejoin: \"round\",\n          children: [/*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M9 11l3 3L22 4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this), show3NFStatus ? 'Hide 3NF Analysis' : 'Show 3NF Analysis']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '100%',\n        marginTop: '10px'\n      },\n      children: processedData.map((cluster, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '30px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: 'linear-gradient(to right, #1E40AF, #3B82F6)',\n            color: 'white',\n            padding: '10px 15px',\n            borderTopLeftRadius: '8px',\n            borderTopRightRadius: '8px',\n            fontWeight: 'bold',\n            fontSize: '16px',\n            display: 'flex',\n            alignItems: 'center',\n            boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '12px',\n              height: '12px',\n              backgroundColor: 'white',\n              borderRadius: '50%',\n              marginRight: '10px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 15\n          }, this), cluster.label || 'Unnamed Cluster']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 13\n        }, this), cluster.hoverLabel && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: 'rgba(59, 130, 246, 0.1)',\n            padding: '8px 15px',\n            color: '#334155',\n            fontSize: '14px',\n            borderLeft: '1px solid #e2e8f0',\n            borderRight: '1px solid #e2e8f0'\n          },\n          children: cluster.hoverLabel\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            flexWrap: 'wrap',\n            gap: '20px',\n            padding: '20px',\n            background: 'white',\n            borderBottomLeftRadius: '8px',\n            borderBottomRightRadius: '8px',\n            borderLeft: '1px solid #e2e8f0',\n            borderRight: '1px solid #e2e8f0',\n            borderBottom: '1px solid #e2e8f0',\n            boxShadow: '0 2px 4px rgba(0,0,0,0.05)'\n          },\n          children: [cluster.objects.map((object, objIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '280px',\n              overflow: 'hidden',\n              borderRadius: '6px',\n              boxShadow: '0 2px 5px rgba(0,0,0,0.1)',\n              border: '1px solid #e2e8f0',\n              maxHeight: '500px',\n              display: 'flex',\n              flexDirection: 'column'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                background: '#10B981',\n                color: 'white',\n                padding: '8px 12px',\n                fontWeight: 'bold',\n                fontSize: '14px',\n                display: 'flex',\n                alignItems: 'center',\n                gap: '8px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  width: '0',\n                  height: '0',\n                  borderLeft: '6px solid transparent',\n                  borderRight: '6px solid transparent',\n                  borderBottom: '12px solid white'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 21\n              }, this), object.label || 'Unnamed Object']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 19\n            }, this), object.hoverLabel && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                padding: '6px 12px',\n                fontSize: '12px',\n                color: '#64748b',\n                borderBottom: '1px solid #e2e8f0',\n                background: '#f8fafc'\n              },\n              children: object.hoverLabel\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                maxHeight: '400px',\n                overflowY: 'auto',\n                flex: '1'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                style: {\n                  width: '100%',\n                  borderCollapse: 'collapse',\n                  fontSize: '12px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    style: {\n                      background: '#f1f5f9'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      style: {\n                        padding: '10px 16px',\n                        textAlign: 'left',\n                        borderBottom: '1px solid #e2e8f0',\n                        color: '#334155',\n                        position: 'sticky',\n                        top: 0,\n                        background: '#f1f5f9',\n                        zIndex: 1\n                      },\n                      children: \"Harmonized Attribute\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 251,\n                      columnNumber: 27\n                    }, this), show3NFStatus && /*#__PURE__*/_jsxDEV(\"th\", {\n                      style: {\n                        padding: '10px 16px',\n                        textAlign: 'center',\n                        borderBottom: '1px solid #e2e8f0',\n                        color: '#334155',\n                        position: 'sticky',\n                        top: 0,\n                        background: '#f1f5f9',\n                        zIndex: 1,\n                        width: '80px'\n                      },\n                      children: \"3NF\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 264,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 250,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: object.harmonizedAttributes && object.harmonizedAttributes.length > 0 ? object.harmonizedAttributes.map((attr, attrIndex) => /*#__PURE__*/_jsxDEV(React.Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                      style: {\n                        background: attrIndex % 2 === 0 ? 'white' : '#f8fafc',\n                        cursor: 'pointer'\n                      },\n                      onClick: () => toggleExpand(object.key, attr.name),\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          padding: '8px 16px',\n                          borderBottom: '1px solid #e2e8f0',\n                          color: '#9333ea',\n                          fontWeight: '500',\n                          position: 'relative'\n                        },\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            display: 'flex',\n                            alignItems: 'center',\n                            justifyContent: 'space-between',\n                            width: '100%'\n                          },\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            style: {\n                              display: 'flex',\n                              alignItems: 'center',\n                              gap: '8px'\n                            },\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              style: {\n                                width: '3px',\n                                height: '14px',\n                                background: '#9333ea',\n                                borderRadius: '1px'\n                              }\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 309,\n                              columnNumber: 39\n                            }, this), attr.name]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 304,\n                            columnNumber: 37\n                          }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n                            xmlns: \"http://www.w3.org/2000/svg\",\n                            width: \"14\",\n                            height: \"14\",\n                            viewBox: \"0 0 24 24\",\n                            fill: \"none\",\n                            stroke: \"currentColor\",\n                            strokeWidth: \"2\",\n                            strokeLinecap: \"round\",\n                            strokeLinejoin: \"round\",\n                            style: {\n                              transition: 'transform 0.2s ease',\n                              transform: isExpanded(object.key, attr.name) ? 'rotate(180deg)' : 'rotate(0deg)',\n                              opacity: 0.6\n                            },\n                            children: /*#__PURE__*/_jsxDEV(\"polyline\", {\n                              points: \"6 9 12 15 18 9\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 333,\n                              columnNumber: 39\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 317,\n                            columnNumber: 37\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 298,\n                          columnNumber: 35\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 291,\n                        columnNumber: 33\n                      }, this), show3NFStatus && /*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          padding: '8px 16px',\n                          borderBottom: '1px solid #e2e8f0',\n                          textAlign: 'center'\n                        },\n                        children: attr.is3NF ? /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            display: 'flex',\n                            alignItems: 'center',\n                            justifyContent: 'center',\n                            width: '100%',\n                            color: '#10b981'\n                          },\n                          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                            xmlns: \"http://www.w3.org/2000/svg\",\n                            width: \"16\",\n                            height: \"16\",\n                            viewBox: \"0 0 24 24\",\n                            fill: \"none\",\n                            stroke: \"currentColor\",\n                            strokeWidth: \"2.5\",\n                            strokeLinecap: \"round\",\n                            strokeLinejoin: \"round\",\n                            children: /*#__PURE__*/_jsxDEV(\"path\", {\n                              d: \"M20 6L9 17l-5-5\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 362,\n                              columnNumber: 43\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 351,\n                            columnNumber: 41\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 344,\n                          columnNumber: 39\n                        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            display: 'flex',\n                            alignItems: 'center',\n                            justifyContent: 'center',\n                            width: '100%',\n                            color: '#ef4444'\n                          },\n                          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                            xmlns: \"http://www.w3.org/2000/svg\",\n                            width: \"16\",\n                            height: \"16\",\n                            viewBox: \"0 0 24 24\",\n                            fill: \"none\",\n                            stroke: \"currentColor\",\n                            strokeWidth: \"2.5\",\n                            strokeLinecap: \"round\",\n                            strokeLinejoin: \"round\",\n                            children: [/*#__PURE__*/_jsxDEV(\"line\", {\n                              x1: \"18\",\n                              y1: \"6\",\n                              x2: \"6\",\n                              y2: \"18\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 384,\n                              columnNumber: 43\n                            }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                              x1: \"6\",\n                              y1: \"6\",\n                              x2: \"18\",\n                              y2: \"18\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 385,\n                              columnNumber: 43\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 373,\n                            columnNumber: 41\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 366,\n                          columnNumber: 39\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 338,\n                        columnNumber: 35\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 284,\n                      columnNumber: 31\n                    }, this), isExpanded(object.key, attr.name) && /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: /*#__PURE__*/_jsxDEV(\"td\", {\n                        colSpan: show3NFStatus ? 2 : 1,\n                        style: {\n                          padding: '0',\n                          backgroundColor: 'rgba(147, 51, 234, 0.05)',\n                          border: '1px solid rgba(147, 51, 234, 0.1)',\n                          borderTop: 'none'\n                        },\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            padding: '8px 12px 8px 28px'\n                          },\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            style: {\n                              fontSize: '10px',\n                              fontWeight: 'bold',\n                              color: '#9333ea',\n                              marginBottom: '6px',\n                              textTransform: 'uppercase',\n                              letterSpacing: '0.5px',\n                              display: 'flex',\n                              alignItems: 'center',\n                              justifyContent: 'space-between'\n                            },\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              children: [\"Original Attributes (\", attr.originalAttributes.length, \")\"]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 416,\n                              columnNumber: 41\n                            }, this), show3NFStatus && /*#__PURE__*/_jsxDEV(\"div\", {\n                              style: {\n                                backgroundColor: attr.is3NF ? 'rgba(16, 185, 129, 0.1)' : 'rgba(239, 68, 68, 0.1)',\n                                color: attr.is3NF ? '#059669' : '#b91c1c',\n                                padding: '2px 8px',\n                                borderRadius: '4px',\n                                fontSize: '9px',\n                                marginRight: '8px'\n                              },\n                              children: attr.is3NF ? '3NF Compliant' : 'Not 3NF Compliant'\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 418,\n                              columnNumber: 43\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 405,\n                            columnNumber: 39\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            style: {\n                              fontSize: '11px',\n                              color: '#64748b'\n                            },\n                            children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                              style: {\n                                margin: '0',\n                                paddingLeft: '16px'\n                              },\n                              children: attr.originalAttributes.map((original, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n                                style: {\n                                  marginBottom: '4px'\n                                },\n                                children: original\n                              }, i, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 439,\n                                columnNumber: 45\n                              }, this))\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 434,\n                              columnNumber: 41\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 430,\n                            columnNumber: 39\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 402,\n                          columnNumber: 37\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 396,\n                        columnNumber: 35\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 395,\n                      columnNumber: 33\n                    }, this)]\n                  }, `attr-${attrIndex}-${attr.name}`, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 283,\n                    columnNumber: 29\n                  }, this)) : /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: /*#__PURE__*/_jsxDEV(\"td\", {\n                      colSpan: show3NFStatus ? 2 : 1,\n                      style: {\n                        padding: '12px',\n                        textAlign: 'center',\n                        color: '#94a3b8'\n                      },\n                      children: \"No harmonized attributes available\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 453,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 452,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 19\n            }, this)]\n          }, `object-${objIndex}-${object.key}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 17\n          }, this)), cluster.objects.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: '15px',\n              color: '#94a3b8',\n              fontStyle: 'italic',\n              textAlign: 'center',\n              width: '100%'\n            },\n            children: \"No objects in this cluster\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 13\n        }, this)]\n      }, `cluster-${index}-${cluster.key}`, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n};\n\n/**\r\n * Organizes the graph data into a hierarchical structure for visualization\r\n * with 3NF compliance status for harmonized attributes\r\n * @param {Object} data - The raw graph data\r\n * @returns {Array} - Array of organized cluster objects\r\n */\n_s(TableGraphVisualization, \"wKMuq1d6xRI3kTs3QNf1iyy0OtM=\");\n_c = TableGraphVisualization;\nfunction organizeDataForVisualization(data) {\n  if (!data || !data.nodeDataArray || !data.linkDataArray) {\n    return [];\n  }\n  const nodes = data.nodeDataArray;\n  const links = data.linkDataArray;\n\n  // Extract nodes by category\n  const clusters = nodes.filter(node => node.category === \"system\");\n  const objects = nodes.filter(node => node.category === \"object\");\n  const attributes = nodes.filter(node => node.category === \"attribute\");\n\n  // Build the cluster hierarchy\n  return clusters.map(cluster => {\n    // Find objects linked to this cluster\n    const linkedObjectKeys = links.filter(link => link.from === cluster.key).map(link => link.to);\n    const clusterObjects = objects.filter(obj => linkedObjectKeys.includes(obj.key)).map(obj => {\n      // Find attributes linked to this object\n      const linkedAttrKeys = links.filter(link => link.from === obj.key).map(link => link.to);\n      const objectAttributes = attributes.filter(attr => linkedAttrKeys.includes(attr.key));\n\n      // Get harmonized attributes and check 3NF compliance\n      const harmonizedAttributeMap = {};\n      objectAttributes.forEach(attr => {\n        // Get the harmonized attribute name\n        const harmonizedName = attr.harmonisedAttribute || `Harmonised-${attr.label}`;\n\n        // Check if this attribute is 3NF compliant (from the 3nf_marker field)\n        const is3NFCompliant = attr.hasOwnProperty('3nf_marker') ? attr['3nf_marker'] === 'yes' : Math.random() > 0.5; // Simulate for demo if field is missing\n\n        if (!harmonizedAttributeMap[harmonizedName]) {\n          harmonizedAttributeMap[harmonizedName] = {\n            name: harmonizedName,\n            count: 1,\n            originalAttributes: [attr.label || 'Unknown'],\n            is3NF: is3NFCompliant\n          };\n        } else {\n          harmonizedAttributeMap[harmonizedName].count += 1;\n          if (!harmonizedAttributeMap[harmonizedName].originalAttributes.includes(attr.label || 'Unknown')) {\n            harmonizedAttributeMap[harmonizedName].originalAttributes.push(attr.label || 'Unknown');\n          }\n          // If any attribute is not 3NF compliant, mark the harmonized attribute as not 3NF\n          if (!is3NFCompliant) {\n            harmonizedAttributeMap[harmonizedName].is3NF = false;\n          }\n        }\n      });\n\n      // Convert map to array and sort alphabetically\n      const harmonizedAttributes = Object.values(harmonizedAttributeMap).sort((a, b) => a.name.localeCompare(b.name));\n      return {\n        ...obj,\n        attributes: objectAttributes,\n        harmonizedAttributes: harmonizedAttributes\n      };\n    }).sort((a, b) => (a.label || '').localeCompare(b.label || ''));\n    return {\n      ...cluster,\n      objects: clusterObjects\n    };\n  }).sort((a, b) => {\n    // Sort clusters by name\n    return (a.label || '').localeCompare(b.label || '');\n  });\n}\nexport default TableGraphVisualization;\nvar _c;\n$RefreshReg$(_c, \"TableGraphVisualization\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","TableGraphVisualization","graphData","dimensions","_s","processedData","setProcessedData","expandedAttributes","setExpandedAttributes","show3NFStatus","setShow3NFStatus","nodeDataArray","linkDataArray","organized","organizeDataForVisualization","error","console","toggleExpand","objectKey","attrName","prev","key","isExpanded","toggle3NFCheck","containerStyle","width","height","padding","background","border","borderRadius","overflow","maxHeight","position","boxSizing","length","style","display","alignItems","justifyContent","fontSize","fontStyle","color","children","fileName","_jsxFileName","lineNumber","columnNumber","top","zIndex","borderBottom","boxShadow","onClick","gap","backgroundColor","fontWeight","cursor","transition","xmlns","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","marginTop","map","cluster","index","marginBottom","borderTopLeftRadius","borderTopRightRadius","marginRight","label","hoverLabel","borderLeft","borderRight","flexWrap","borderBottomLeftRadius","borderBottomRightRadius","objects","object","objIndex","flexDirection","overflowY","flex","borderCollapse","textAlign","harmonizedAttributes","attr","attrIndex","Fragment","name","transform","opacity","points","is3NF","x1","y1","x2","y2","colSpan","borderTop","textTransform","letterSpacing","originalAttributes","margin","paddingLeft","original","i","_c","data","nodes","links","clusters","filter","node","category","attributes","linkedObjectKeys","link","from","to","clusterObjects","obj","includes","linkedAttrKeys","objectAttributes","harmonizedAttributeMap","forEach","harmonizedName","harmonisedAttribute","is3NFCompliant","hasOwnProperty","Math","random","count","push","Object","values","sort","a","b","localeCompare","$RefreshReg$"],"sources":["C:/Users/R40008/Asset Model Server/python/bim-ai-poc/frontend/src/components/TableGraphVisualization.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\n/**\r\n * TableGraphVisualization - A component that visualizes graph data as tables\r\n * with 3NF compliance checks for harmonized attributes\r\n */\r\nconst TableGraphVisualization = ({ graphData, dimensions }) => {\r\n  const [processedData, setProcessedData] = useState([]);\r\n  const [expandedAttributes, setExpandedAttributes] = useState({});\r\n  const [show3NFStatus, setShow3NFStatus] = useState(false);\r\n  \r\n  // Process the graph data into a format suitable for table visualization\r\n  useEffect(() => {\r\n    if (graphData && graphData.nodeDataArray && graphData.linkDataArray) {\r\n      try {\r\n        const organized = organizeDataForVisualization(graphData);\r\n        setProcessedData(organized);\r\n        // Reset expanded state when data changes\r\n        setExpandedAttributes({});\r\n      } catch (error) {\r\n        console.error('Error processing graph data for table visualization:', error);\r\n        setProcessedData([]);\r\n      }\r\n    }\r\n  }, [graphData]);\r\n\r\n  // Toggle expand/collapse for an attribute\r\n  const toggleExpand = (objectKey, attrName) => {\r\n    setExpandedAttributes(prev => {\r\n      const key = `${objectKey}-${attrName}`;\r\n      return {\r\n        ...prev,\r\n        [key]: !prev[key]\r\n      };\r\n    });\r\n  };\r\n\r\n  // Check if an attribute is expanded\r\n  const isExpanded = (objectKey, attrName) => {\r\n    const key = `${objectKey}-${attrName}`;\r\n    return !!expandedAttributes[key];\r\n  };\r\n\r\n  // Toggle 3NF compliance check display\r\n  const toggle3NFCheck = () => {\r\n    setShow3NFStatus(prev => !prev);\r\n  };\r\n\r\n  // Calculate container styles based on dimensions\r\n  const containerStyle = {\r\n    width: dimensions?.width || '100%', \r\n    height: dimensions?.height || '600px',\r\n    padding: '10px',\r\n    background: '#f8fafc',\r\n    border: '1px solid #e2e8f0',\r\n    borderRadius: '8px',\r\n    overflow: 'auto',\r\n    maxHeight: dimensions?.height || '600px',\r\n    position: 'relative',\r\n    boxSizing: 'border-box'\r\n  };\r\n\r\n  if (!graphData || !processedData.length) {\r\n    return (\r\n      <div style={{\r\n        ...containerStyle,\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        fontSize: \"16px\",\r\n        fontStyle: \"italic\",\r\n        color: \"#64748b\"\r\n      }}>\r\n        Upload data to visualize tables and their relationships.\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={containerStyle}>\r\n      {/* 3NF Check Button */}\r\n      <div style={{\r\n        position: 'sticky',\r\n        top: 0,\r\n        zIndex: 10,\r\n        padding: '10px',\r\n        background: '#f8fafc',\r\n        borderBottom: '1px solid #e2e8f0',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        boxShadow: '0 2px 4px rgba(0,0,0,0.05)'\r\n      }}>\r\n        <button\r\n          onClick={toggle3NFCheck}\r\n          style={{\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            gap: '8px',\r\n            padding: '6px 12px',\r\n            backgroundColor: show3NFStatus ? '#8b5cf6' : '#6366f1',\r\n            color: 'white',\r\n            border: 'none',\r\n            borderRadius: '4px',\r\n            fontSize: '13px',\r\n            fontWeight: '500',\r\n            cursor: 'pointer',\r\n            boxShadow: '0 1px 2px rgba(0,0,0,0.1)',\r\n            transition: 'all 0.2s ease'\r\n          }}\r\n        >\r\n          <svg \r\n            xmlns=\"http://www.w3.org/2000/svg\" \r\n            width=\"16\" \r\n            height=\"16\" \r\n            viewBox=\"0 0 24 24\" \r\n            fill=\"none\" \r\n            stroke=\"currentColor\" \r\n            strokeWidth=\"2\" \r\n            strokeLinecap=\"round\" \r\n            strokeLinejoin=\"round\"\r\n          >\r\n            <path d=\"M9 11l3 3L22 4\" />\r\n            <path d=\"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11\" />\r\n          </svg>\r\n          {show3NFStatus ? 'Hide 3NF Analysis' : 'Show 3NF Analysis'}\r\n        </button>\r\n      </div>\r\n\r\n      <div style={{ width: '100%', marginTop: '10px' }}>\r\n        {processedData.map((cluster, index) => (\r\n          <div \r\n            key={`cluster-${index}-${cluster.key}`}\r\n            style={{\r\n              marginBottom: '30px'\r\n            }}\r\n          >\r\n            {/* Cluster Header */}\r\n            <div\r\n              style={{\r\n                background: 'linear-gradient(to right, #1E40AF, #3B82F6)',\r\n                color: 'white',\r\n                padding: '10px 15px',\r\n                borderTopLeftRadius: '8px',\r\n                borderTopRightRadius: '8px',\r\n                fontWeight: 'bold',\r\n                fontSize: '16px',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\r\n              }}\r\n            >\r\n              <div style={{\r\n                width: '12px',\r\n                height: '12px',\r\n                backgroundColor: 'white',\r\n                borderRadius: '50%',\r\n                marginRight: '10px'\r\n              }} />\r\n              {cluster.label || 'Unnamed Cluster'}\r\n            </div>\r\n            \r\n            {/* Description if available */}\r\n            {cluster.hoverLabel && (\r\n              <div style={{\r\n                background: 'rgba(59, 130, 246, 0.1)',\r\n                padding: '8px 15px',\r\n                color: '#334155',\r\n                fontSize: '14px',\r\n                borderLeft: '1px solid #e2e8f0',\r\n                borderRight: '1px solid #e2e8f0'\r\n              }}>\r\n                {cluster.hoverLabel}\r\n              </div>\r\n            )}\r\n            \r\n            {/* Objects (tables) */}\r\n            <div style={{ \r\n              display: 'flex', \r\n              flexWrap: 'wrap', \r\n              gap: '20px',\r\n              padding: '20px',\r\n              background: 'white',\r\n              borderBottomLeftRadius: '8px',\r\n              borderBottomRightRadius: '8px',\r\n              borderLeft: '1px solid #e2e8f0',\r\n              borderRight: '1px solid #e2e8f0',\r\n              borderBottom: '1px solid #e2e8f0',\r\n              boxShadow: '0 2px 4px rgba(0,0,0,0.05)'\r\n            }}>\r\n              {cluster.objects.map((object, objIndex) => (\r\n                <div \r\n                  key={`object-${objIndex}-${object.key}`}\r\n                  style={{\r\n                    width: '280px',\r\n                    overflow: 'hidden',\r\n                    borderRadius: '6px',\r\n                    boxShadow: '0 2px 5px rgba(0,0,0,0.1)',\r\n                    border: '1px solid #e2e8f0',\r\n                    maxHeight: '500px',\r\n                    display: 'flex',\r\n                    flexDirection: 'column'\r\n                  }}\r\n                >\r\n                  {/* Table Header */}\r\n                  <div style={{\r\n                    background: '#10B981',\r\n                    color: 'white',\r\n                    padding: '8px 12px',\r\n                    fontWeight: 'bold',\r\n                    fontSize: '14px',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    gap: '8px'\r\n                  }}>\r\n                    <div style={{\r\n                      width: '0',\r\n                      height: '0',\r\n                      borderLeft: '6px solid transparent',\r\n                      borderRight: '6px solid transparent',\r\n                      borderBottom: '12px solid white'\r\n                    }} />\r\n                    {object.label || 'Unnamed Object'}\r\n                  </div>\r\n                  \r\n                  {/* Object Description */}\r\n                  {object.hoverLabel && (\r\n                    <div style={{\r\n                      padding: '6px 12px',\r\n                      fontSize: '12px',\r\n                      color: '#64748b',\r\n                      borderBottom: '1px solid #e2e8f0',\r\n                      background: '#f8fafc'\r\n                    }}>\r\n                      {object.hoverLabel}\r\n                    </div>\r\n                  )}\r\n                  \r\n                  {/* Harmonized Attributes with 3NF status */}\r\n                  <div style={{\r\n                    maxHeight: '400px',\r\n                    overflowY: 'auto',\r\n                    flex: '1'\r\n                  }}>\r\n                    <table style={{\r\n                      width: '100%',\r\n                      borderCollapse: 'collapse',\r\n                      fontSize: '12px'\r\n                    }}>\r\n                      <thead>\r\n                        <tr style={{ background: '#f1f5f9' }}>\r\n                          <th style={{\r\n                            padding: '10px 16px',\r\n                            textAlign: 'left',\r\n                            borderBottom: '1px solid #e2e8f0',\r\n                            color: '#334155',\r\n                            position: 'sticky',\r\n                            top: 0,\r\n                            background: '#f1f5f9',\r\n                            zIndex: 1\r\n                          }}>\r\n                            Harmonized Attribute\r\n                          </th>\r\n                          {show3NFStatus && (\r\n                            <th style={{\r\n                              padding: '10px 16px',\r\n                              textAlign: 'center',\r\n                              borderBottom: '1px solid #e2e8f0',\r\n                              color: '#334155',\r\n                              position: 'sticky',\r\n                              top: 0,\r\n                              background: '#f1f5f9',\r\n                              zIndex: 1,\r\n                              width: '80px'\r\n                            }}>\r\n                              3NF\r\n                            </th>\r\n                          )}\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {object.harmonizedAttributes && object.harmonizedAttributes.length > 0 ? (\r\n                          object.harmonizedAttributes.map((attr, attrIndex) => (\r\n                            <React.Fragment key={`attr-${attrIndex}-${attr.name}`}>\r\n                              <tr \r\n                                style={{\r\n                                  background: attrIndex % 2 === 0 ? 'white' : '#f8fafc',\r\n                                  cursor: 'pointer'\r\n                                }}\r\n                                onClick={() => toggleExpand(object.key, attr.name)}\r\n                              >\r\n                                <td style={{\r\n                                  padding: '8px 16px',\r\n                                  borderBottom: '1px solid #e2e8f0',\r\n                                  color: '#9333ea',\r\n                                  fontWeight: '500',\r\n                                  position: 'relative'\r\n                                }}>\r\n                                  <div style={{\r\n                                    display: 'flex',\r\n                                    alignItems: 'center',\r\n                                    justifyContent: 'space-between',\r\n                                    width: '100%'\r\n                                  }}>\r\n                                    <div style={{\r\n                                      display: 'flex',\r\n                                      alignItems: 'center',\r\n                                      gap: '8px'\r\n                                    }}>\r\n                                      <div style={{\r\n                                        width: '3px',\r\n                                        height: '14px',\r\n                                        background: '#9333ea',\r\n                                        borderRadius: '1px'\r\n                                      }} />\r\n                                      {attr.name}\r\n                                    </div>\r\n                                    <svg \r\n                                      xmlns=\"http://www.w3.org/2000/svg\" \r\n                                      width=\"14\" \r\n                                      height=\"14\" \r\n                                      viewBox=\"0 0 24 24\" \r\n                                      fill=\"none\" \r\n                                      stroke=\"currentColor\" \r\n                                      strokeWidth=\"2\" \r\n                                      strokeLinecap=\"round\" \r\n                                      strokeLinejoin=\"round\"\r\n                                      style={{ \r\n                                        transition: 'transform 0.2s ease',\r\n                                        transform: isExpanded(object.key, attr.name) ? 'rotate(180deg)' : 'rotate(0deg)',\r\n                                        opacity: 0.6\r\n                                      }}\r\n                                    >\r\n                                      <polyline points=\"6 9 12 15 18 9\"></polyline>\r\n                                    </svg>\r\n                                  </div>\r\n                                </td>\r\n                                {show3NFStatus && (\r\n                                  <td style={{\r\n                                    padding: '8px 16px',\r\n                                    borderBottom: '1px solid #e2e8f0',\r\n                                    textAlign: 'center'\r\n                                  }}>\r\n                                    {attr.is3NF ? (\r\n                                      <div style={{\r\n                                        display: 'flex',\r\n                                        alignItems: 'center',\r\n                                        justifyContent: 'center',\r\n                                        width: '100%',\r\n                                        color: '#10b981'\r\n                                      }}>\r\n                                        <svg \r\n                                          xmlns=\"http://www.w3.org/2000/svg\" \r\n                                          width=\"16\" \r\n                                          height=\"16\" \r\n                                          viewBox=\"0 0 24 24\" \r\n                                          fill=\"none\" \r\n                                          stroke=\"currentColor\" \r\n                                          strokeWidth=\"2.5\" \r\n                                          strokeLinecap=\"round\" \r\n                                          strokeLinejoin=\"round\"\r\n                                        >\r\n                                          <path d=\"M20 6L9 17l-5-5\"></path>\r\n                                        </svg>\r\n                                      </div>\r\n                                    ) : (\r\n                                      <div style={{\r\n                                        display: 'flex',\r\n                                        alignItems: 'center',\r\n                                        justifyContent: 'center',\r\n                                        width: '100%',\r\n                                        color: '#ef4444'\r\n                                      }}>\r\n                                        <svg \r\n                                          xmlns=\"http://www.w3.org/2000/svg\" \r\n                                          width=\"16\" \r\n                                          height=\"16\" \r\n                                          viewBox=\"0 0 24 24\" \r\n                                          fill=\"none\" \r\n                                          stroke=\"currentColor\" \r\n                                          strokeWidth=\"2.5\" \r\n                                          strokeLinecap=\"round\" \r\n                                          strokeLinejoin=\"round\"\r\n                                        >\r\n                                          <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line>\r\n                                          <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line>\r\n                                        </svg>\r\n                                      </div>\r\n                                    )}\r\n                                  </td>\r\n                                )}\r\n                              </tr>\r\n                              \r\n                              {/* Expanded details showing original attributes */}\r\n                              {isExpanded(object.key, attr.name) && (\r\n                                <tr>\r\n                                  <td colSpan={show3NFStatus ? 2 : 1} style={{\r\n                                    padding: '0',\r\n                                    backgroundColor: 'rgba(147, 51, 234, 0.05)',\r\n                                    border: '1px solid rgba(147, 51, 234, 0.1)',\r\n                                    borderTop: 'none'\r\n                                  }}>\r\n                                    <div style={{\r\n                                      padding: '8px 12px 8px 28px'\r\n                                    }}>\r\n                                      <div style={{\r\n                                        fontSize: '10px',\r\n                                        fontWeight: 'bold',\r\n                                        color: '#9333ea',\r\n                                        marginBottom: '6px',\r\n                                        textTransform: 'uppercase',\r\n                                        letterSpacing: '0.5px',\r\n                                        display: 'flex',\r\n                                        alignItems: 'center',\r\n                                        justifyContent: 'space-between'\r\n                                      }}>\r\n                                        <div>Original Attributes ({attr.originalAttributes.length})</div>\r\n                                        {show3NFStatus && (\r\n                                          <div style={{\r\n                                            backgroundColor: attr.is3NF ? 'rgba(16, 185, 129, 0.1)' : 'rgba(239, 68, 68, 0.1)',\r\n                                            color: attr.is3NF ? '#059669' : '#b91c1c',\r\n                                            padding: '2px 8px',\r\n                                            borderRadius: '4px',\r\n                                            fontSize: '9px',\r\n                                            marginRight: '8px'\r\n                                          }}>\r\n                                            {attr.is3NF ? '3NF Compliant' : 'Not 3NF Compliant'}\r\n                                          </div>\r\n                                        )}\r\n                                      </div>\r\n                                      <div style={{\r\n                                        fontSize: '11px',\r\n                                        color: '#64748b'\r\n                                      }}>\r\n                                        <ul style={{\r\n                                          margin: '0',\r\n                                          paddingLeft: '16px'\r\n                                        }}>\r\n                                          {attr.originalAttributes.map((original, i) => (\r\n                                            <li key={i} style={{ marginBottom: '4px' }}>\r\n                                              {original}\r\n                                            </li>\r\n                                          ))}\r\n                                        </ul>\r\n                                      </div>\r\n                                    </div>\r\n                                  </td>\r\n                                </tr>\r\n                              )}\r\n                            </React.Fragment>\r\n                          ))\r\n                        ) : (\r\n                          <tr>\r\n                            <td \r\n                              colSpan={show3NFStatus ? 2 : 1}\r\n                              style={{\r\n                                padding: '12px',\r\n                                textAlign: 'center',\r\n                                color: '#94a3b8'\r\n                              }}\r\n                            >\r\n                              No harmonized attributes available\r\n                            </td>\r\n                          </tr>\r\n                        )}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n              \r\n              {cluster.objects.length === 0 && (\r\n                <div style={{\r\n                  padding: '15px',\r\n                  color: '#94a3b8',\r\n                  fontStyle: 'italic',\r\n                  textAlign: 'center',\r\n                  width: '100%'\r\n                }}>\r\n                  No objects in this cluster\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n/**\r\n * Organizes the graph data into a hierarchical structure for visualization\r\n * with 3NF compliance status for harmonized attributes\r\n * @param {Object} data - The raw graph data\r\n * @returns {Array} - Array of organized cluster objects\r\n */\r\nfunction organizeDataForVisualization(data) {\r\n  if (!data || !data.nodeDataArray || !data.linkDataArray) {\r\n    return [];\r\n  }\r\n  \r\n  const nodes = data.nodeDataArray;\r\n  const links = data.linkDataArray;\r\n  \r\n  // Extract nodes by category\r\n  const clusters = nodes.filter(node => node.category === \"system\");\r\n  const objects = nodes.filter(node => node.category === \"object\");\r\n  const attributes = nodes.filter(node => node.category === \"attribute\");\r\n  \r\n  // Build the cluster hierarchy\r\n  return clusters.map(cluster => {\r\n    // Find objects linked to this cluster\r\n    const linkedObjectKeys = links\r\n      .filter(link => link.from === cluster.key)\r\n      .map(link => link.to);\r\n      \r\n    const clusterObjects = objects\r\n      .filter(obj => linkedObjectKeys.includes(obj.key))\r\n      .map(obj => {\r\n        // Find attributes linked to this object\r\n        const linkedAttrKeys = links\r\n          .filter(link => link.from === obj.key)\r\n          .map(link => link.to);\r\n          \r\n        const objectAttributes = attributes\r\n          .filter(attr => linkedAttrKeys.includes(attr.key));\r\n        \r\n        // Get harmonized attributes and check 3NF compliance\r\n        const harmonizedAttributeMap = {};\r\n        \r\n        objectAttributes.forEach(attr => {\r\n          // Get the harmonized attribute name\r\n          const harmonizedName = attr.harmonisedAttribute || `Harmonised-${attr.label}`;\r\n          \r\n          // Check if this attribute is 3NF compliant (from the 3nf_marker field)\r\n          const is3NFCompliant = attr.hasOwnProperty('3nf_marker') \r\n            ? attr['3nf_marker'] === 'yes'\r\n            : Math.random() > 0.5; // Simulate for demo if field is missing\r\n          \r\n          if (!harmonizedAttributeMap[harmonizedName]) {\r\n            harmonizedAttributeMap[harmonizedName] = {\r\n              name: harmonizedName,\r\n              count: 1,\r\n              originalAttributes: [attr.label || 'Unknown'],\r\n              is3NF: is3NFCompliant\r\n            };\r\n          } else {\r\n            harmonizedAttributeMap[harmonizedName].count += 1;\r\n            if (!harmonizedAttributeMap[harmonizedName].originalAttributes.includes(attr.label || 'Unknown')) {\r\n              harmonizedAttributeMap[harmonizedName].originalAttributes.push(attr.label || 'Unknown');\r\n            }\r\n            // If any attribute is not 3NF compliant, mark the harmonized attribute as not 3NF\r\n            if (!is3NFCompliant) {\r\n              harmonizedAttributeMap[harmonizedName].is3NF = false;\r\n            }\r\n          }\r\n        });\r\n        \r\n        // Convert map to array and sort alphabetically\r\n        const harmonizedAttributes = Object.values(harmonizedAttributeMap)\r\n          .sort((a, b) => a.name.localeCompare(b.name));\r\n        \r\n        return {\r\n          ...obj,\r\n          attributes: objectAttributes,\r\n          harmonizedAttributes: harmonizedAttributes\r\n        };\r\n      })\r\n      .sort((a, b) => (a.label || '').localeCompare(b.label || ''));\r\n    \r\n    return {\r\n      ...cluster,\r\n      objects: clusterObjects\r\n    };\r\n  }).sort((a, b) => {\r\n    // Sort clusters by name\r\n    return (a.label || '').localeCompare(b.label || '');\r\n  });\r\n}\r\n\r\nexport default TableGraphVisualization;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}