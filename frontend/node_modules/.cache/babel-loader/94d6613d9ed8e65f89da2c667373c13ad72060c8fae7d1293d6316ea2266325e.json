{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\R40008\\\\Asset Model Server\\\\python\\\\bim-ai-poc\\\\frontend\\\\src\\\\components\\\\TableGraphVisualization.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\n\n/**\r\n * TableGraphVisualization - A component that visualizes graph data as tables\r\n * where objects are represented as tables and attributes as columns\r\n * Fixed version to prevent content from flying offscreen\r\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TableGraphVisualization = ({\n  graphData,\n  dimensions\n}) => {\n  _s();\n  const [processedData, setProcessedData] = useState([]);\n\n  // Process the graph data into a format suitable for table visualization\n  useEffect(() => {\n    if (graphData && graphData.nodeDataArray && graphData.linkDataArray) {\n      try {\n        const organized = organizeDataForVisualization(graphData);\n        setProcessedData(organized);\n      } catch (error) {\n        console.error('Error processing graph data for table visualization:', error);\n        setProcessedData([]);\n      }\n    }\n  }, [graphData]);\n\n  // Calculate container styles based on dimensions\n  const containerStyle = {\n    width: (dimensions === null || dimensions === void 0 ? void 0 : dimensions.width) || '100%',\n    height: (dimensions === null || dimensions === void 0 ? void 0 : dimensions.height) || '600px',\n    padding: '10px',\n    background: '#f8fafc',\n    border: '1px solid #e2e8f0',\n    borderRadius: '8px',\n    // Critical fix: Set proper overflow behavior\n    overflow: 'auto',\n    // Ensure the container itself doesn't grow beyond bounds\n    maxHeight: (dimensions === null || dimensions === void 0 ? void 0 : dimensions.height) || '600px',\n    position: 'relative',\n    // Prevent content from causing unwanted scrolling\n    boxSizing: 'border-box'\n  };\n  if (!graphData || !processedData.length) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        ...containerStyle,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        fontSize: \"16px\",\n        fontStyle: \"italic\",\n        color: \"#64748b\"\n      },\n      children: \"Upload data to visualize tables and their relationships.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: containerStyle,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '100%'\n      },\n      children: processedData.map((cluster, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '30px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: 'linear-gradient(to right, #1E40AF, #3B82F6)',\n            color: 'white',\n            padding: '10px 15px',\n            borderTopLeftRadius: '8px',\n            borderTopRightRadius: '8px',\n            fontWeight: 'bold',\n            fontSize: '16px',\n            display: 'flex',\n            alignItems: 'center',\n            boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '12px',\n              height: '12px',\n              backgroundColor: 'white',\n              borderRadius: '50%',\n              marginRight: '10px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }, this), cluster.label || 'Unnamed Cluster']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this), cluster.hoverLabel && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: 'rgba(59, 130, 246, 0.1)',\n            padding: '8px 15px',\n            color: '#334155',\n            fontSize: '14px',\n            borderLeft: '1px solid #e2e8f0',\n            borderRight: '1px solid #e2e8f0'\n          },\n          children: cluster.hoverLabel\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            flexWrap: 'wrap',\n            gap: '20px',\n            padding: '20px',\n            background: 'white',\n            borderBottomLeftRadius: '8px',\n            borderBottomRightRadius: '8px',\n            borderLeft: '1px solid #e2e8f0',\n            borderRight: '1px solid #e2e8f0',\n            borderBottom: '1px solid #e2e8f0',\n            boxShadow: '0 2px 4px rgba(0,0,0,0.05)'\n          },\n          children: [cluster.objects.map((object, objIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '280px',\n              overflow: 'hidden',\n              borderRadius: '6px',\n              boxShadow: '0 2px 5px rgba(0,0,0,0.1)',\n              border: '1px solid #e2e8f0',\n              // Ensure tables have a maximum height\n              maxHeight: '400px',\n              display: 'flex',\n              flexDirection: 'column'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                background: '#10B981',\n                color: 'white',\n                padding: '8px 12px',\n                fontWeight: 'bold',\n                fontSize: '14px',\n                display: 'flex',\n                alignItems: 'center',\n                gap: '8px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  width: '0',\n                  height: '0',\n                  borderLeft: '6px solid transparent',\n                  borderRight: '6px solid transparent',\n                  borderBottom: '12px solid white'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 21\n              }, this), object.label || 'Unnamed Object']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 19\n            }, this), object.hoverLabel && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                padding: '6px 12px',\n                fontSize: '12px',\n                color: '#64748b',\n                borderBottom: '1px solid #e2e8f0',\n                background: '#f8fafc'\n              },\n              children: object.hoverLabel\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                maxHeight: '300px',\n                overflowY: 'auto',\n                // Ensure this container takes remaining space\n                flex: '1'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                style: {\n                  width: '100%',\n                  borderCollapse: 'collapse',\n                  fontSize: '12px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    style: {\n                      background: '#f1f5f9'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      style: {\n                        padding: '6px 12px',\n                        textAlign: 'left',\n                        borderBottom: '1px solid #e2e8f0',\n                        color: '#334155',\n                        position: 'sticky',\n                        top: 0,\n                        background: '#f1f5f9',\n                        zIndex: 1\n                      },\n                      children: \"Attribute\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 184,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      style: {\n                        padding: '6px 12px',\n                        textAlign: 'left',\n                        borderBottom: '1px solid #e2e8f0',\n                        color: '#334155',\n                        position: 'sticky',\n                        top: 0,\n                        background: '#f1f5f9',\n                        zIndex: 1\n                      },\n                      children: \"Harmonized\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 196,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 183,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: object.attributes.length > 0 ? object.attributes.map((attr, attrIndex) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                    style: {\n                      background: attrIndex % 2 === 0 ? 'white' : '#f8fafc'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      style: {\n                        padding: '6px 12px',\n                        borderBottom: '1px solid #e2e8f0',\n                        color: '#ec4899',\n                        fontWeight: '500',\n                        position: 'relative'\n                      },\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          display: 'flex',\n                          alignItems: 'center',\n                          gap: '8px'\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            width: '3px',\n                            height: '14px',\n                            background: '#ec4899',\n                            borderRadius: '1px'\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 231,\n                          columnNumber: 35\n                        }, this), attr.label || 'Unnamed Attribute']\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 226,\n                        columnNumber: 33\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 219,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      style: {\n                        padding: '6px 12px',\n                        borderBottom: '1px solid #e2e8f0',\n                        color: '#9333ea',\n                        fontWeight: '400',\n                        fontSize: '11px'\n                      },\n                      children: attr.harmonisedAttribute || `Harmonised-${attr.label}`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 240,\n                      columnNumber: 31\n                    }, this)]\n                  }, `attr-${attrIndex}-${attr.key}`, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 213,\n                    columnNumber: 29\n                  }, this)) : /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: /*#__PURE__*/_jsxDEV(\"td\", {\n                      colSpan: \"2\",\n                      style: {\n                        padding: '10px',\n                        textAlign: 'center',\n                        color: '#94a3b8'\n                      },\n                      children: \"No attributes available\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 253,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 252,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 19\n            }, this)]\n          }, `object-${objIndex}-${object.key}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 17\n          }, this)), cluster.objects.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: '15px',\n              color: '#94a3b8',\n              fontStyle: 'italic',\n              textAlign: 'center',\n              width: '100%'\n            },\n            children: \"No objects in this cluster\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }, this)]\n      }, `cluster-${index}-${cluster.key}`, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n\n/**\r\n * Organizes the graph data into a hierarchical structure for visualization\r\n * @param {Object} data - The raw graph data\r\n * @returns {Array} - Array of organized cluster objects\r\n */\n_s(TableGraphVisualization, \"lA3Up+zz3Kb8kGTCA8bmhCCU3JY=\");\n_c = TableGraphVisualization;\nfunction organizeDataForVisualization(data) {\n  if (!data || !data.nodeDataArray || !data.linkDataArray) {\n    return [];\n  }\n  const nodes = data.nodeDataArray;\n  const links = data.linkDataArray;\n\n  // Extract nodes by category\n  const clusters = nodes.filter(node => node.category === \"system\");\n  const objects = nodes.filter(node => node.category === \"object\");\n  const attributes = nodes.filter(node => node.category === \"attribute\");\n\n  // Build the cluster hierarchy\n  return clusters.map(cluster => {\n    // Find objects linked to this cluster\n    const linkedObjectKeys = links.filter(link => link.from === cluster.key).map(link => link.to);\n    const clusterObjects = objects.filter(obj => linkedObjectKeys.includes(obj.key)).map(obj => {\n      // Find attributes linked to this object\n      const linkedAttrKeys = links.filter(link => link.from === obj.key).map(link => link.to);\n      const objectAttributes = attributes.filter(attr => linkedAttrKeys.includes(attr.key));\n      return {\n        ...obj,\n        attributes: objectAttributes\n      };\n    });\n    return {\n      ...cluster,\n      objects: clusterObjects\n    };\n  }).sort((a, b) => {\n    // Sort clusters by name\n    return (a.label || '').localeCompare(b.label || '');\n  });\n}\nexport default TableGraphVisualization;\nvar _c;\n$RefreshReg$(_c, \"TableGraphVisualization\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","TableGraphVisualization","graphData","dimensions","_s","processedData","setProcessedData","nodeDataArray","linkDataArray","organized","organizeDataForVisualization","error","console","containerStyle","width","height","padding","background","border","borderRadius","overflow","maxHeight","position","boxSizing","length","style","display","alignItems","justifyContent","fontSize","fontStyle","color","children","fileName","_jsxFileName","lineNumber","columnNumber","map","cluster","index","marginBottom","borderTopLeftRadius","borderTopRightRadius","fontWeight","boxShadow","backgroundColor","marginRight","label","hoverLabel","borderLeft","borderRight","flexWrap","gap","borderBottomLeftRadius","borderBottomRightRadius","borderBottom","objects","object","objIndex","flexDirection","overflowY","flex","borderCollapse","textAlign","top","zIndex","attributes","attr","attrIndex","harmonisedAttribute","key","colSpan","_c","data","nodes","links","clusters","filter","node","category","linkedObjectKeys","link","from","to","clusterObjects","obj","includes","linkedAttrKeys","objectAttributes","sort","a","b","localeCompare","$RefreshReg$"],"sources":["C:/Users/R40008/Asset Model Server/python/bim-ai-poc/frontend/src/components/TableGraphVisualization.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\n/**\r\n * TableGraphVisualization - A component that visualizes graph data as tables\r\n * where objects are represented as tables and attributes as columns\r\n * Fixed version to prevent content from flying offscreen\r\n */\r\nconst TableGraphVisualization = ({ graphData, dimensions }) => {\r\n  const [processedData, setProcessedData] = useState([]);\r\n  \r\n  // Process the graph data into a format suitable for table visualization\r\n  useEffect(() => {\r\n    if (graphData && graphData.nodeDataArray && graphData.linkDataArray) {\r\n      try {\r\n        const organized = organizeDataForVisualization(graphData);\r\n        setProcessedData(organized);\r\n      } catch (error) {\r\n        console.error('Error processing graph data for table visualization:', error);\r\n        setProcessedData([]);\r\n      }\r\n    }\r\n  }, [graphData]);\r\n\r\n  // Calculate container styles based on dimensions\r\n  const containerStyle = {\r\n    width: dimensions?.width || '100%', \r\n    height: dimensions?.height || '600px',\r\n    padding: '10px',\r\n    background: '#f8fafc',\r\n    border: '1px solid #e2e8f0',\r\n    borderRadius: '8px',\r\n    // Critical fix: Set proper overflow behavior\r\n    overflow: 'auto',\r\n    // Ensure the container itself doesn't grow beyond bounds\r\n    maxHeight: dimensions?.height || '600px',\r\n    position: 'relative',\r\n    // Prevent content from causing unwanted scrolling\r\n    boxSizing: 'border-box'\r\n  };\r\n\r\n  if (!graphData || !processedData.length) {\r\n    return (\r\n      <div style={{\r\n        ...containerStyle,\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        fontSize: \"16px\",\r\n        fontStyle: \"italic\",\r\n        color: \"#64748b\"\r\n      }}>\r\n        Upload data to visualize tables and their relationships.\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={containerStyle}>\r\n      {/* Content container with defined width to prevent horizontal overflow */}\r\n      <div style={{ width: '100%' }}>\r\n        {processedData.map((cluster, index) => (\r\n          <div \r\n            key={`cluster-${index}-${cluster.key}`}\r\n            style={{\r\n              marginBottom: '30px'\r\n            }}\r\n          >\r\n            {/* Cluster Header */}\r\n            <div\r\n              style={{\r\n                background: 'linear-gradient(to right, #1E40AF, #3B82F6)',\r\n                color: 'white',\r\n                padding: '10px 15px',\r\n                borderTopLeftRadius: '8px',\r\n                borderTopRightRadius: '8px',\r\n                fontWeight: 'bold',\r\n                fontSize: '16px',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\r\n              }}\r\n            >\r\n              <div style={{\r\n                width: '12px',\r\n                height: '12px',\r\n                backgroundColor: 'white',\r\n                borderRadius: '50%',\r\n                marginRight: '10px'\r\n              }} />\r\n              {cluster.label || 'Unnamed Cluster'}\r\n            </div>\r\n            \r\n            {/* Description if available */}\r\n            {cluster.hoverLabel && (\r\n              <div style={{\r\n                background: 'rgba(59, 130, 246, 0.1)',\r\n                padding: '8px 15px',\r\n                color: '#334155',\r\n                fontSize: '14px',\r\n                borderLeft: '1px solid #e2e8f0',\r\n                borderRight: '1px solid #e2e8f0'\r\n              }}>\r\n                {cluster.hoverLabel}\r\n              </div>\r\n            )}\r\n            \r\n            {/* Objects (tables) */}\r\n            <div style={{ \r\n              display: 'flex', \r\n              flexWrap: 'wrap', \r\n              gap: '20px',\r\n              padding: '20px',\r\n              background: 'white',\r\n              borderBottomLeftRadius: '8px',\r\n              borderBottomRightRadius: '8px',\r\n              borderLeft: '1px solid #e2e8f0',\r\n              borderRight: '1px solid #e2e8f0',\r\n              borderBottom: '1px solid #e2e8f0',\r\n              boxShadow: '0 2px 4px rgba(0,0,0,0.05)'\r\n            }}>\r\n              {cluster.objects.map((object, objIndex) => (\r\n                <div \r\n                  key={`object-${objIndex}-${object.key}`}\r\n                  style={{\r\n                    width: '280px',\r\n                    overflow: 'hidden',\r\n                    borderRadius: '6px',\r\n                    boxShadow: '0 2px 5px rgba(0,0,0,0.1)',\r\n                    border: '1px solid #e2e8f0',\r\n                    // Ensure tables have a maximum height\r\n                    maxHeight: '400px',\r\n                    display: 'flex',\r\n                    flexDirection: 'column'\r\n                  }}\r\n                >\r\n                  {/* Table Header */}\r\n                  <div style={{\r\n                    background: '#10B981',\r\n                    color: 'white',\r\n                    padding: '8px 12px',\r\n                    fontWeight: 'bold',\r\n                    fontSize: '14px',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    gap: '8px'\r\n                  }}>\r\n                    <div style={{\r\n                      width: '0',\r\n                      height: '0',\r\n                      borderLeft: '6px solid transparent',\r\n                      borderRight: '6px solid transparent',\r\n                      borderBottom: '12px solid white'\r\n                    }} />\r\n                    {object.label || 'Unnamed Object'}\r\n                  </div>\r\n                  \r\n                  {/* Object Description */}\r\n                  {object.hoverLabel && (\r\n                    <div style={{\r\n                      padding: '6px 12px',\r\n                      fontSize: '12px',\r\n                      color: '#64748b',\r\n                      borderBottom: '1px solid #e2e8f0',\r\n                      background: '#f8fafc'\r\n                    }}>\r\n                      {object.hoverLabel}\r\n                    </div>\r\n                  )}\r\n                  \r\n                  {/* Attributes (Columns) */}\r\n                  <div style={{\r\n                    maxHeight: '300px',\r\n                    overflowY: 'auto',\r\n                    // Ensure this container takes remaining space\r\n                    flex: '1'\r\n                  }}>\r\n                    <table style={{\r\n                      width: '100%',\r\n                      borderCollapse: 'collapse',\r\n                      fontSize: '12px'\r\n                    }}>\r\n                      <thead>\r\n                        <tr style={{ background: '#f1f5f9' }}>\r\n                          <th style={{\r\n                            padding: '6px 12px',\r\n                            textAlign: 'left',\r\n                            borderBottom: '1px solid #e2e8f0',\r\n                            color: '#334155',\r\n                            position: 'sticky',\r\n                            top: 0,\r\n                            background: '#f1f5f9',\r\n                            zIndex: 1\r\n                          }}>\r\n                            Attribute\r\n                          </th>\r\n                          <th style={{\r\n                            padding: '6px 12px',\r\n                            textAlign: 'left',\r\n                            borderBottom: '1px solid #e2e8f0',\r\n                            color: '#334155',\r\n                            position: 'sticky',\r\n                            top: 0,\r\n                            background: '#f1f5f9',\r\n                            zIndex: 1\r\n                          }}>\r\n                            Harmonized\r\n                          </th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {object.attributes.length > 0 ? (\r\n                          object.attributes.map((attr, attrIndex) => (\r\n                            <tr \r\n                              key={`attr-${attrIndex}-${attr.key}`}\r\n                              style={{\r\n                                background: attrIndex % 2 === 0 ? 'white' : '#f8fafc'\r\n                              }}\r\n                            >\r\n                              <td style={{\r\n                                padding: '6px 12px',\r\n                                borderBottom: '1px solid #e2e8f0',\r\n                                color: '#ec4899',\r\n                                fontWeight: '500',\r\n                                position: 'relative'\r\n                              }}>\r\n                                <div style={{\r\n                                  display: 'flex',\r\n                                  alignItems: 'center',\r\n                                  gap: '8px'\r\n                                }}>\r\n                                  <div style={{\r\n                                    width: '3px',\r\n                                    height: '14px',\r\n                                    background: '#ec4899',\r\n                                    borderRadius: '1px'\r\n                                  }} />\r\n                                  {attr.label || 'Unnamed Attribute'}\r\n                                </div>\r\n                              </td>\r\n                              <td style={{\r\n                                padding: '6px 12px',\r\n                                borderBottom: '1px solid #e2e8f0',\r\n                                color: '#9333ea',\r\n                                fontWeight: '400',\r\n                                fontSize: '11px'\r\n                              }}>\r\n                                {attr.harmonisedAttribute || `Harmonised-${attr.label}`}\r\n                              </td>\r\n                            </tr>\r\n                          ))\r\n                        ) : (\r\n                          <tr>\r\n                            <td \r\n                              colSpan=\"2\"\r\n                              style={{\r\n                                padding: '10px',\r\n                                textAlign: 'center',\r\n                                color: '#94a3b8'\r\n                              }}\r\n                            >\r\n                              No attributes available\r\n                            </td>\r\n                          </tr>\r\n                        )}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n              \r\n              {cluster.objects.length === 0 && (\r\n                <div style={{\r\n                  padding: '15px',\r\n                  color: '#94a3b8',\r\n                  fontStyle: 'italic',\r\n                  textAlign: 'center',\r\n                  width: '100%'\r\n                }}>\r\n                  No objects in this cluster\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n/**\r\n * Organizes the graph data into a hierarchical structure for visualization\r\n * @param {Object} data - The raw graph data\r\n * @returns {Array} - Array of organized cluster objects\r\n */\r\nfunction organizeDataForVisualization(data) {\r\n  if (!data || !data.nodeDataArray || !data.linkDataArray) {\r\n    return [];\r\n  }\r\n  \r\n  const nodes = data.nodeDataArray;\r\n  const links = data.linkDataArray;\r\n  \r\n  // Extract nodes by category\r\n  const clusters = nodes.filter(node => node.category === \"system\");\r\n  const objects = nodes.filter(node => node.category === \"object\");\r\n  const attributes = nodes.filter(node => node.category === \"attribute\");\r\n  \r\n  // Build the cluster hierarchy\r\n  return clusters.map(cluster => {\r\n    // Find objects linked to this cluster\r\n    const linkedObjectKeys = links\r\n      .filter(link => link.from === cluster.key)\r\n      .map(link => link.to);\r\n      \r\n    const clusterObjects = objects\r\n      .filter(obj => linkedObjectKeys.includes(obj.key))\r\n      .map(obj => {\r\n        // Find attributes linked to this object\r\n        const linkedAttrKeys = links\r\n          .filter(link => link.from === obj.key)\r\n          .map(link => link.to);\r\n          \r\n        const objectAttributes = attributes\r\n          .filter(attr => linkedAttrKeys.includes(attr.key));\r\n        \r\n        return {\r\n          ...obj,\r\n          attributes: objectAttributes\r\n        };\r\n      });\r\n    \r\n    return {\r\n      ...cluster,\r\n      objects: clusterObjects\r\n    };\r\n  }).sort((a, b) => {\r\n    // Sort clusters by name\r\n    return (a.label || '').localeCompare(b.label || '');\r\n  });\r\n}\r\n\r\nexport default TableGraphVisualization;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}